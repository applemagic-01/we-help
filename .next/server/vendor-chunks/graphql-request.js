"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/graphql-request";
exports.ids = ["vendor-chunks/graphql-request"];
exports.modules = {

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/defaultJsonSerializer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/defaultJsonSerializer.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.defaultJsonSerializer = void 0;\nexports.defaultJsonSerializer = JSON; //# sourceMappingURL=defaultJsonSerializer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9kZWZhdWx0SnNvblNlcmlhbGl6ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELDZCQUE2QixHQUFHLEtBQUs7QUFDckNBLDZCQUE2QixHQUFHRyxNQUNoQyxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLXNlcnZpY2Utd2ViLWFwcC8uL25vZGVfbW9kdWxlcy9ncmFwaHFsLXJlcXVlc3QvYnVpbGQvY2pzL2RlZmF1bHRKc29uU2VyaWFsaXplci5qcz9mYzUxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0SnNvblNlcmlhbGl6ZXIgPSB2b2lkIDA7XG5leHBvcnRzLmRlZmF1bHRKc29uU2VyaWFsaXplciA9IEpTT047XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0SnNvblNlcmlhbGl6ZXIuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdEpzb25TZXJpYWxpemVyIiwiSlNPTiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/defaultJsonSerializer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/graphql-ws.js":
/*!**************************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/graphql-ws.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.GraphQLWebSocketClient = void 0;\n/* eslint-disable */ const resolveRequestDocument_js_1 = __webpack_require__(/*! ./resolveRequestDocument.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/resolveRequestDocument.js\");\nconst types_js_1 = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/types.js\");\n// import type WebSocket from 'ws'\nconst CONNECTION_INIT = `connection_init`;\nconst CONNECTION_ACK = `connection_ack`;\nconst PING = `ping`;\nconst PONG = `pong`;\nconst SUBSCRIBE = `subscribe`;\nconst NEXT = `next`;\nconst ERROR = `error`;\nconst COMPLETE = `complete`;\nclass GraphQLWebSocketMessage {\n    get type() {\n        return this._type;\n    }\n    get id() {\n        return this._id;\n    }\n    get payload() {\n        return this._payload;\n    }\n    constructor(type, payload, id){\n        this._type = type;\n        this._payload = payload;\n        this._id = id;\n    }\n    get text() {\n        const result = {\n            type: this.type\n        };\n        if (this.id != null && this.id != undefined) result.id = this.id;\n        if (this.payload != null && this.payload != undefined) result.payload = this.payload;\n        return JSON.stringify(result);\n    }\n    static parse(data, f) {\n        const { type, payload, id } = JSON.parse(data);\n        return new GraphQLWebSocketMessage(type, f(payload), id);\n    }\n}\nclass GraphQLWebSocketClient {\n    constructor(socket, { onInit, onAcknowledged, onPing, onPong }){\n        this.socketState = {\n            acknowledged: false,\n            lastRequestId: 0,\n            subscriptions: {}\n        };\n        this.socket = socket;\n        socket.addEventListener(`open`, async (e)=>{\n            this.socketState.acknowledged = false;\n            this.socketState.subscriptions = {};\n            socket.send(ConnectionInit(onInit ? await onInit() : null).text);\n        });\n        socket.addEventListener(`close`, (e)=>{\n            this.socketState.acknowledged = false;\n            this.socketState.subscriptions = {};\n        });\n        socket.addEventListener(`error`, (e)=>{\n            console.error(e);\n        });\n        socket.addEventListener(`message`, (e)=>{\n            try {\n                const message = parseMessage(e.data);\n                switch(message.type){\n                    case CONNECTION_ACK:\n                        {\n                            if (this.socketState.acknowledged) {\n                                console.warn(`Duplicate CONNECTION_ACK message ignored`);\n                            } else {\n                                this.socketState.acknowledged = true;\n                                if (onAcknowledged) onAcknowledged(message.payload);\n                            }\n                            return;\n                        }\n                    case PING:\n                        {\n                            if (onPing) onPing(message.payload).then((r)=>socket.send(Pong(r).text));\n                            else socket.send(Pong(null).text);\n                            return;\n                        }\n                    case PONG:\n                        {\n                            if (onPong) onPong(message.payload);\n                            return;\n                        }\n                }\n                if (!this.socketState.acknowledged) {\n                    // Web-socket connection not acknowledged\n                    return;\n                }\n                if (message.id === undefined || message.id === null || !this.socketState.subscriptions[message.id]) {\n                    // No subscription identifer or subscription indentifier is not found\n                    return;\n                }\n                const { query, variables, subscriber } = this.socketState.subscriptions[message.id];\n                switch(message.type){\n                    case NEXT:\n                        {\n                            if (!message.payload.errors && message.payload.data) {\n                                subscriber.next && subscriber.next(message.payload.data);\n                            }\n                            if (message.payload.errors) {\n                                subscriber.error && subscriber.error(new types_js_1.ClientError({\n                                    ...message.payload,\n                                    status: 200\n                                }, {\n                                    query,\n                                    variables\n                                }));\n                            } else {}\n                            return;\n                        }\n                    case ERROR:\n                        {\n                            subscriber.error && subscriber.error(new types_js_1.ClientError({\n                                errors: message.payload,\n                                status: 200\n                            }, {\n                                query,\n                                variables\n                            }));\n                            return;\n                        }\n                    case COMPLETE:\n                        {\n                            subscriber.complete && subscriber.complete();\n                            delete this.socketState.subscriptions[message.id];\n                            return;\n                        }\n                }\n            } catch (e) {\n                // Unexpected errors while handling graphql-ws message\n                console.error(e);\n                socket.close(1006);\n            }\n            socket.close(4400, `Unknown graphql-ws message.`);\n        });\n    }\n    makeSubscribe(query, operationName, subscriber, variables) {\n        const subscriptionId = (this.socketState.lastRequestId++).toString();\n        this.socketState.subscriptions[subscriptionId] = {\n            query,\n            variables,\n            subscriber\n        };\n        this.socket.send(Subscribe(subscriptionId, {\n            query,\n            operationName,\n            variables\n        }).text);\n        return ()=>{\n            this.socket.send(Complete(subscriptionId).text);\n            delete this.socketState.subscriptions[subscriptionId];\n        };\n    }\n    rawRequest(query, variables) {\n        return new Promise((resolve, reject)=>{\n            let result;\n            this.rawSubscribe(query, {\n                next: (data, extensions)=>result = {\n                        data,\n                        extensions\n                    },\n                error: reject,\n                complete: ()=>resolve(result)\n            }, variables);\n        });\n    }\n    request(document, variables) {\n        return new Promise((resolve, reject)=>{\n            let result;\n            this.subscribe(document, {\n                next: (data)=>result = data,\n                error: reject,\n                complete: ()=>resolve(result)\n            }, variables);\n        });\n    }\n    subscribe(document, subscriber, variables) {\n        const { query, operationName } = (0, resolveRequestDocument_js_1.resolveRequestDocument)(document);\n        return this.makeSubscribe(query, operationName, subscriber, variables);\n    }\n    rawSubscribe(query, subscriber, variables) {\n        return this.makeSubscribe(query, undefined, subscriber, variables);\n    }\n    ping(payload) {\n        this.socket.send(Ping(payload).text);\n    }\n    close() {\n        this.socket.close(1000);\n    }\n}\nGraphQLWebSocketClient.PROTOCOL = `graphql-transport-ws`;\nexports.GraphQLWebSocketClient = GraphQLWebSocketClient;\n// Helper functions\nfunction parseMessage(data, f = (a)=>a) {\n    const m = GraphQLWebSocketMessage.parse(data, f);\n    return m;\n}\nfunction ConnectionInit(payload) {\n    return new GraphQLWebSocketMessage(CONNECTION_INIT, payload);\n}\nfunction Ping(payload) {\n    return new GraphQLWebSocketMessage(PING, payload, undefined);\n}\nfunction Pong(payload) {\n    return new GraphQLWebSocketMessage(PONG, payload, undefined);\n}\nfunction Subscribe(id, payload) {\n    return new GraphQLWebSocketMessage(SUBSCRIBE, payload, id);\n}\nfunction Complete(id) {\n    return new GraphQLWebSocketMessage(COMPLETE, undefined, id);\n} //# sourceMappingURL=graphql-ws.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9ncmFwaHFsLXdzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCw4QkFBOEIsR0FBRyxLQUFLO0FBQ3RDLGtCQUFrQixHQUNsQixNQUFNRyw4QkFBOEJDLG1CQUFPQSxDQUFDLDZHQUE2QjtBQUN6RSxNQUFNQyxhQUFhRCxtQkFBT0EsQ0FBQywyRUFBWTtBQUN2QyxrQ0FBa0M7QUFDbEMsTUFBTUUsa0JBQWtCLENBQUMsZUFBZSxDQUFDO0FBQ3pDLE1BQU1DLGlCQUFpQixDQUFDLGNBQWMsQ0FBQztBQUN2QyxNQUFNQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ25CLE1BQU1DLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDbkIsTUFBTUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztBQUM3QixNQUFNQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ25CLE1BQU1DLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDckIsTUFBTUMsV0FBVyxDQUFDLFFBQVEsQ0FBQztBQUMzQixNQUFNQztJQUNGLElBQUlDLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQ0MsS0FBSztJQUNyQjtJQUNBLElBQUlDLEtBQUs7UUFDTCxPQUFPLElBQUksQ0FBQ0MsR0FBRztJQUNuQjtJQUNBLElBQUlDLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQ0MsUUFBUTtJQUN4QjtJQUNBQyxZQUFZTixJQUFJLEVBQUVJLE9BQU8sRUFBRUYsRUFBRSxDQUFFO1FBQzNCLElBQUksQ0FBQ0QsS0FBSyxHQUFHRDtRQUNiLElBQUksQ0FBQ0ssUUFBUSxHQUFHRDtRQUNoQixJQUFJLENBQUNELEdBQUcsR0FBR0Q7SUFDZjtJQUNBLElBQUlLLE9BQU87UUFDUCxNQUFNQyxTQUFTO1lBQUVSLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1FBQUM7UUFDakMsSUFBSSxJQUFJLENBQUNFLEVB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QUFDQSxTQUFTZ0QsU0FBU2hELEVBQUU7SUFDaEIsT0FBTyxJQUFJSCx3QkFBd0JELFVBQVVXLFdBQVdQO0FBQzVELEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1zZXJ2aWNlLXdlYi1hcHAvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9ncmFwaHFsLXdzLmpzP2RiODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdyYXBoUUxXZWJTb2NrZXRDbGllbnQgPSB2b2lkIDA7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcmVzb2x2ZVJlcXVlc3REb2N1bWVudF9qc18xID0gcmVxdWlyZShcIi4vcmVzb2x2ZVJlcXVlc3REb2N1bWVudC5qc1wiKTtcbmNvbnN0IHR5cGVzX2pzXzEgPSByZXF1aXJlKFwiLi90eXBlcy5qc1wiKTtcbi8vIGltcG9ydCB0eXBlIFdlYlNvY2tldCBmcm9tICd3cydcbmNvbnN0IENPTk5FQ1RJT05fSU5JVCA9IGBjb25uZWN0aW9uX2luaXRgO1xuY29uc3QgQ09OTkVDVElPTl9BQ0sgPSBgY29ubmVjdGlvbl9hY2tgO1xuY29uc3QgUElORyA9IGBwaW5nYDtcbmNvbnN0IFBPTkcgPSBgcG9uZ2A7XG5jb25zdCBTVUJTQ1JJQkUgPSBgc3Vic2NyaWJlYDtcbmNvbnN0IE5FWFQgPSBgbmV4dGA7XG5jb25zdCBFUlJPUiA9IGBlcnJvcmA7XG5jb25zdCBDT01QTEVURSA9IGBjb21wbGV0ZWA7XG5jbGFzcyBHcmFwaFFMV2ViU29ja2V0TWVzc2FnZSB7XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgZ2V0IHBheWxvYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXlsb2FkO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXlsb2FkLCBpZCkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fcGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7IHR5cGU6IHRoaXMudHlwZSB9O1xuICAgICAgICBpZiAodGhpcy5pZCAhPSBudWxsICYmIHRoaXMuaWQgIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVzdWx0LmlkID0gdGhpcy5pZDtcbiAgICAgICAgaWYgKHRoaXMucGF5bG9hZCAhPSBudWxsICYmIHRoaXMucGF5bG9hZCAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXN1bHQucGF5bG9hZCA9IHRoaXMucGF5bG9hZDtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZShkYXRhLCBmKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcGF5bG9hZCwgaWQgfSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhRTFdlYlNvY2tldE1lc3NhZ2UodHlwZSwgZihwYXlsb2FkKSwgaWQpO1xuICAgIH1cbn1cbmNsYXNzIEdyYXBoUUxXZWJTb2NrZXRDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKHNvY2tldCwgeyBvbkluaXQsIG9uQWNrbm93bGVkZ2VkLCBvblBpbmcsIG9uUG9uZyB9KSB7XG4gICAgICAgIHRoaXMuc29ja2V0U3RhdGUgPSB7IGFja25vd2xlZGdlZDogZmFsc2UsIGxhc3RSZXF1ZXN0SWQ6IDAsIHN1YnNjcmlwdGlvbnM6IHt9IH07XG4gICAgICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihgb3BlbmAsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldFN0YXRlLmFja25vd2xlZGdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRTdGF0ZS5zdWJzY3JpcHRpb25zID0ge307XG4gICAgICAgICAgICBzb2NrZXQuc2VuZChDb25uZWN0aW9uSW5pdChvbkluaXQgPyBhd2FpdCBvbkluaXQoKSA6IG51bGwpLnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoYGNsb3NlYCwgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0U3RhdGUuYWNrbm93bGVkZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnMgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKGBlcnJvcmAsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoYG1lc3NhZ2VgLCAoZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gcGFyc2VNZXNzYWdlKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05ORUNUSU9OX0FDSzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0U3RhdGUuYWNrbm93bGVkZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBEdXBsaWNhdGUgQ09OTkVDVElPTl9BQ0sgbWVzc2FnZSBpZ25vcmVkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvY2tldFN0YXRlLmFja25vd2xlZGdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQWNrbm93bGVkZ2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFja25vd2xlZGdlZChtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUElORzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uUGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBpbmcobWVzc2FnZS5wYXlsb2FkKS50aGVuKChyKSA9PiBzb2NrZXQuc2VuZChQb25nKHIpLnRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChQb25nKG51bGwpLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUE9ORzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uUG9uZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBvbmcobWVzc2FnZS5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc29ja2V0U3RhdGUuYWNrbm93bGVkZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlYi1zb2NrZXQgY29ubmVjdGlvbiBub3QgYWNrbm93bGVkZ2VkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQgPT09IHVuZGVmaW5lZCB8fCBtZXNzYWdlLmlkID09PSBudWxsIHx8ICF0aGlzLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnNbbWVzc2FnZS5pZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gc3Vic2NyaXB0aW9uIGlkZW50aWZlciBvciBzdWJzY3JpcHRpb24gaW5kZW50aWZpZXIgaXMgbm90IGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBxdWVyeSwgdmFyaWFibGVzLCBzdWJzY3JpYmVyIH0gPSB0aGlzLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnNbbWVzc2FnZS5pZF07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBORVhUOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UucGF5bG9hZC5lcnJvcnMgJiYgbWVzc2FnZS5wYXlsb2FkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQgJiYgc3Vic2NyaWJlci5uZXh0KG1lc3NhZ2UucGF5bG9hZC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKG5ldyB0eXBlc19qc18xLkNsaWVudEVycm9yKHsgLi4ubWVzc2FnZS5wYXlsb2FkLCBzdGF0dXM6IDIwMCB9LCB7IHF1ZXJ5LCB2YXJpYWJsZXMgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBFUlJPUjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IobmV3IHR5cGVzX2pzXzEuQ2xpZW50RXJyb3IoeyBlcnJvcnM6IG1lc3NhZ2UucGF5bG9hZCwgc3RhdHVzOiAyMDAgfSwgeyBxdWVyeSwgdmFyaWFibGVzIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIENPTVBMRVRFOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnNbbWVzc2FnZS5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIFVuZXhwZWN0ZWQgZXJyb3JzIHdoaWxlIGhhbmRsaW5nIGdyYXBocWwtd3MgbWVzc2FnZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKDEwMDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc29ja2V0LmNsb3NlKDQ0MDAsIGBVbmtub3duIGdyYXBocWwtd3MgbWVzc2FnZS5gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1ha2VTdWJzY3JpYmUocXVlcnksIG9wZXJhdGlvbk5hbWUsIHN1YnNjcmliZXIsIHZhcmlhYmxlcykge1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25JZCA9ICh0aGlzLnNvY2tldFN0YXRlLmxhc3RSZXF1ZXN0SWQrKykudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5zb2NrZXRTdGF0ZS5zdWJzY3JpcHRpb25zW3N1YnNjcmlwdGlvbklkXSA9IHsgcXVlcnksIHZhcmlhYmxlcywgc3Vic2NyaWJlciB9O1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKFN1YnNjcmliZShzdWJzY3JpcHRpb25JZCwgeyBxdWVyeSwgb3BlcmF0aW9uTmFtZSwgdmFyaWFibGVzIH0pLnRleHQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChDb21wbGV0ZShzdWJzY3JpcHRpb25JZCkudGV4dCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zb2NrZXRTdGF0ZS5zdWJzY3JpcHRpb25zW3N1YnNjcmlwdGlvbklkXTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmF3UmVxdWVzdChxdWVyeSwgdmFyaWFibGVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgdGhpcy5yYXdTdWJzY3JpYmUocXVlcnksIHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoZGF0YSwgZXh0ZW5zaW9ucykgPT4gKHJlc3VsdCA9IHsgZGF0YSwgZXh0ZW5zaW9ucyB9KSxcbiAgICAgICAgICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiByZXNvbHZlKHJlc3VsdCksXG4gICAgICAgICAgICB9LCB2YXJpYWJsZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWVzdChkb2N1bWVudCwgdmFyaWFibGVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoZGF0YSkgPT4gKHJlc3VsdCA9IGRhdGEpLFxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHJlc29sdmUocmVzdWx0KSxcbiAgICAgICAgICAgIH0sIHZhcmlhYmxlcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdWJzY3JpYmUoZG9jdW1lbnQsIHN1YnNjcmliZXIsIHZhcmlhYmxlcykge1xuICAgICAgICBjb25zdCB7IHF1ZXJ5LCBvcGVyYXRpb25OYW1lIH0gPSAoMCwgcmVzb2x2ZVJlcXVlc3REb2N1bWVudF9qc18xLnJlc29sdmVSZXF1ZXN0RG9jdW1lbnQpKGRvY3VtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFrZVN1YnNjcmliZShxdWVyeSwgb3BlcmF0aW9uTmFtZSwgc3Vic2NyaWJlciwgdmFyaWFibGVzKTtcbiAgICB9XG4gICAgcmF3U3Vic2NyaWJlKHF1ZXJ5LCBzdWJzY3JpYmVyLCB2YXJpYWJsZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFrZVN1YnNjcmliZShxdWVyeSwgdW5kZWZpbmVkLCBzdWJzY3JpYmVyLCB2YXJpYWJsZXMpO1xuICAgIH1cbiAgICBwaW5nKHBheWxvYWQpIHtcbiAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChQaW5nKHBheWxvYWQpLnRleHQpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoMTAwMCk7XG4gICAgfVxufVxuR3JhcGhRTFdlYlNvY2tldENsaWVudC5QUk9UT0NPTCA9IGBncmFwaHFsLXRyYW5zcG9ydC13c2A7XG5leHBvcnRzLkdyYXBoUUxXZWJTb2NrZXRDbGllbnQgPSBHcmFwaFFMV2ViU29ja2V0Q2xpZW50O1xuLy8gSGVscGVyIGZ1bmN0aW9uc1xuZnVuY3Rpb24gcGFyc2VNZXNzYWdlKGRhdGEsIGYgPSAoYSkgPT4gYSkge1xuICAgIGNvbnN0IG0gPSBHcmFwaFFMV2ViU29ja2V0TWVzc2FnZS5wYXJzZShkYXRhLCBmKTtcbiAgICByZXR1cm4gbTtcbn1cbmZ1bmN0aW9uIENvbm5lY3Rpb25Jbml0KHBheWxvYWQpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoUUxXZWJTb2NrZXRNZXNzYWdlKENPTk5FQ1RJT05fSU5JVCwgcGF5bG9hZCk7XG59XG5mdW5jdGlvbiBQaW5nKHBheWxvYWQpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoUUxXZWJTb2NrZXRNZXNzYWdlKFBJTkcsIHBheWxvYWQsIHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBQb25nKHBheWxvYWQpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoUUxXZWJTb2NrZXRNZXNzYWdlKFBPTkcsIHBheWxvYWQsIHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBTdWJzY3JpYmUoaWQsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoUUxXZWJTb2NrZXRNZXNzYWdlKFNVQlNDUklCRSwgcGF5bG9hZCwgaWQpO1xufVxuZnVuY3Rpb24gQ29tcGxldGUoaWQpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoUUxXZWJTb2NrZXRNZXNzYWdlKENPTVBMRVRFLCB1bmRlZmluZWQsIGlkKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBocWwtd3MuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiR3JhcGhRTFdlYlNvY2tldENsaWVudCIsInJlc29sdmVSZXF1ZXN0RG9jdW1lbnRfanNfMSIsInJlcXVpcmUiLCJ0eXBlc19qc18xIiwiQ09OTkVDVElPTl9JTklUIiwiQ09OTkVDVElPTl9BQ0siLCJQSU5HIiwiUE9ORyIsIlNVQlNDUklCRSIsIk5FWFQiLCJFUlJPUiIsIkNPTVBMRVRFIiwiR3JhcGhRTFdlYlNvY2tldE1lc3NhZ2UiLCJ0eXBlIiwiX3R5cGUiLCJpZCIsIl9pZCIsInBheWxvYWQiLCJfcGF5bG9hZCIsImNvbnN0cnVjdG9yIiwidGV4dCIsInJlc3VsdCIsInVuZGVmaW5lZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsImRhdGEiLCJmIiwic29ja2V0Iiwib25Jbml0Iiwib25BY2tub3dsZWRnZWQiLCJvblBpbmciLCJvblBvbmciLCJzb2NrZXRTdGF0ZSIsImFja25vd2xlZGdlZCIsImxhc3RSZXF1ZXN0SWQiLCJzdWJzY3JpcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzZW5kIiwiQ29ubmVjdGlvbkluaXQiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwicGFyc2VNZXNzYWdlIiwid2FybiIsInRoZW4iLCJyIiwiUG9uZyIsInF1ZXJ5IiwidmFyaWFibGVzIiwic3Vic2NyaWJlciIsImVycm9ycyIsIm5leHQiLCJDbGllbnRFcnJvciIsInN0YXR1cyIsImNvbXBsZXRlIiwiY2xvc2UiLCJtYWtlU3Vic2NyaWJlIiwib3BlcmF0aW9uTmFtZSIsInN1YnNjcmlwdGlvbklkIiwidG9TdHJpbmciLCJTdWJzY3JpYmUiLCJDb21wbGV0ZSIsInJhd1JlcXVlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJhd1N1YnNjcmliZSIsImV4dGVuc2lvbnMiLCJyZXF1ZXN0IiwiZG9jdW1lbnQiLCJzdWJzY3JpYmUiLCJyZXNvbHZlUmVxdWVzdERvY3VtZW50IiwicGluZyIsIlBpbmciLCJQUk9UT0NPTCIsImEiLCJtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/graphql-ws.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/helpers.js":
/*!***********************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/helpers.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.HeadersInstanceToPlainObject = exports.uppercase = void 0;\nconst uppercase = (str)=>str.toUpperCase();\nexports.uppercase = uppercase;\n/**\n * Convert Headers instance into regular object\n */ const HeadersInstanceToPlainObject = (headers)=>{\n    const o = {};\n    headers.forEach((v, k)=>{\n        o[k] = v;\n    });\n    return o;\n};\nexports.HeadersInstanceToPlainObject = HeadersInstanceToPlainObject; //# sourceMappingURL=helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxvQ0FBb0MsR0FBR0EsaUJBQWlCLEdBQUcsS0FBSztBQUNoRSxNQUFNRyxZQUFZLENBQUNDLE1BQVFBLElBQUlDLFdBQVc7QUFDMUNMLGlCQUFpQixHQUFHRztBQUNwQjs7Q0FFQyxHQUNELE1BQU1ELCtCQUErQixDQUFDSTtJQUNsQyxNQUFNQyxJQUFJLENBQUM7SUFDWEQsUUFBUUUsT0FBTyxDQUFDLENBQUNDLEdBQUdDO1FBQ2hCSCxDQUFDLENBQUNHLEVBQUUsR0FBR0Q7SUFDWDtJQUNBLE9BQU9GO0FBQ1g7QUFDQVAsb0NBQW9DLEdBQUdFLDhCQUN2QyxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLXNlcnZpY2Utd2ViLWFwcC8uL25vZGVfbW9kdWxlcy9ncmFwaHFsLXJlcXVlc3QvYnVpbGQvY2pzL2hlbHBlcnMuanM/MzEyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVhZGVyc0luc3RhbmNlVG9QbGFpbk9iamVjdCA9IGV4cG9ydHMudXBwZXJjYXNlID0gdm9pZCAwO1xuY29uc3QgdXBwZXJjYXNlID0gKHN0cikgPT4gc3RyLnRvVXBwZXJDYXNlKCk7XG5leHBvcnRzLnVwcGVyY2FzZSA9IHVwcGVyY2FzZTtcbi8qKlxuICogQ29udmVydCBIZWFkZXJzIGluc3RhbmNlIGludG8gcmVndWxhciBvYmplY3RcbiAqL1xuY29uc3QgSGVhZGVyc0luc3RhbmNlVG9QbGFpbk9iamVjdCA9IChoZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgbyA9IHt9O1xuICAgIGhlYWRlcnMuZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgICBvW2tdID0gdjtcbiAgICB9KTtcbiAgICByZXR1cm4gbztcbn07XG5leHBvcnRzLkhlYWRlcnNJbnN0YW5jZVRvUGxhaW5PYmplY3QgPSBIZWFkZXJzSW5zdGFuY2VUb1BsYWluT2JqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJIZWFkZXJzSW5zdGFuY2VUb1BsYWluT2JqZWN0IiwidXBwZXJjYXNlIiwic3RyIiwidG9VcHBlckNhc2UiLCJoZWFkZXJzIiwibyIsImZvckVhY2giLCJ2IiwiayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __createBinding = (void 0) && (void 0).__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = (void 0) && (void 0).__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (void 0) && (void 0).__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.request = exports.rawRequest = exports.GraphQLClient = exports.ClientError = exports.batchRequests = exports.resolveRequestDocument = exports.GraphQLWebSocketClient = exports.gql = void 0;\nconst defaultJsonSerializer_js_1 = __webpack_require__(/*! ./defaultJsonSerializer.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/defaultJsonSerializer.js\");\nconst helpers_js_1 = __webpack_require__(/*! ./helpers.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/helpers.js\");\nconst parseArgs_js_1 = __webpack_require__(/*! ./parseArgs.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/parseArgs.js\");\nconst resolveRequestDocument_js_1 = __webpack_require__(/*! ./resolveRequestDocument.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/resolveRequestDocument.js\");\nconst types_js_1 = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/types.js\");\nObject.defineProperty(exports, \"ClientError\", ({\n    enumerable: true,\n    get: function() {\n        return types_js_1.ClientError;\n    }\n}));\nconst cross_fetch_1 = __importStar(__webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/cross-fetch/dist/node-ponyfill.js\")), CrossFetch = cross_fetch_1;\n/**\n * Convert the given headers configuration into a plain object.\n */ const resolveHeaders = (headers)=>{\n    let oHeaders = {};\n    if (headers) {\n        if (typeof Headers !== `undefined` && headers instanceof Headers || CrossFetch && CrossFetch.Headers && headers instanceof CrossFetch.Headers) {\n            oHeaders = (0, helpers_js_1.HeadersInstanceToPlainObject)(headers);\n        } else if (Array.isArray(headers)) {\n            headers.forEach(([name, value])=>{\n                if (name && value !== undefined) {\n                    oHeaders[name] = value;\n                }\n            });\n        } else {\n            oHeaders = headers;\n        }\n    }\n    return oHeaders;\n};\n/**\n * Clean a GraphQL document to send it via a GET query\n */ const cleanQuery = (str)=>str.replace(/([\\s,]|#[^\\n\\r]+)+/g, ` `).trim();\n/**\n * Create query string for GraphQL request\n */ const buildRequestConfig = (params)=>{\n    if (!Array.isArray(params.query)) {\n        const params_ = params;\n        const search = [\n            `query=${encodeURIComponent(cleanQuery(params_.query))}`\n        ];\n        if (params.variables) {\n            search.push(`variables=${encodeURIComponent(params_.jsonSerializer.stringify(params_.variables))}`);\n        }\n        if (params_.operationName) {\n            search.push(`operationName=${encodeURIComponent(params_.operationName)}`);\n        }\n        return search.join(`&`);\n    }\n    if (typeof params.variables !== `undefined` && !Array.isArray(params.variables)) {\n        throw new Error(`Cannot create query with given variable type, array expected`);\n    }\n    // Batch support\n    const params_ = params;\n    const payload = params.query.reduce((acc, currentQuery, index)=>{\n        acc.push({\n            query: cleanQuery(currentQuery),\n            variables: params_.variables ? params_.jsonSerializer.stringify(params_.variables[index]) : undefined\n        });\n        return acc;\n    }, []);\n    return `query=${encodeURIComponent(params_.jsonSerializer.stringify(payload))}`;\n};\nconst createHttpMethodFetcher = (method)=>async (params)=>{\n        const { url, query, variables, operationName, fetch, fetchOptions, middleware } = params;\n        const headers = {\n            ...params.headers\n        };\n        let queryParams = ``;\n        let body = undefined;\n        if (method === `POST`) {\n            body = createRequestBody(query, variables, operationName, fetchOptions.jsonSerializer);\n            if (typeof body === `string`) {\n                // @ts-expect-error todo\n                headers[`Content-Type`] = `application/json`;\n            }\n        } else {\n            // @ts-expect-error todo needs ADT for TS to understand the different states\n            queryParams = buildRequestConfig({\n                query,\n                variables,\n                operationName,\n                jsonSerializer: fetchOptions.jsonSerializer ?? defaultJsonSerializer_js_1.defaultJsonSerializer\n            });\n        }\n        const init = {\n            method,\n            headers,\n            body,\n            ...fetchOptions\n        };\n        let urlResolved = url;\n        let initResolved = init;\n        if (middleware) {\n            const result = await Promise.resolve(middleware({\n                ...init,\n                url,\n                operationName,\n                variables\n            }));\n            const { url: urlNew, ...initNew } = result;\n            urlResolved = urlNew;\n            initResolved = initNew;\n        }\n        if (queryParams) {\n            urlResolved = `${urlResolved}?${queryParams}`;\n        }\n        return await fetch(urlResolved, initResolved);\n    };\n/**\n * GraphQL Client.\n */ class GraphQLClient {\n    constructor(url, requestConfig = {}){\n        this.url = url;\n        this.requestConfig = requestConfig;\n        /**\n         * Send a GraphQL query to the server.\n         */ this.rawRequest = async (...args)=>{\n            const [queryOrOptions, variables, requestHeaders] = args;\n            const rawRequestOptions = (0, parseArgs_js_1.parseRawRequestArgs)(queryOrOptions, variables, requestHeaders);\n            const { headers, fetch = cross_fetch_1.default, method = `POST`, requestMiddleware, responseMiddleware, ...fetchOptions } = this.requestConfig;\n            const { url } = this;\n            if (rawRequestOptions.signal !== undefined) {\n                fetchOptions.signal = rawRequestOptions.signal;\n            }\n            const { operationName } = (0, resolveRequestDocument_js_1.resolveRequestDocument)(rawRequestOptions.query);\n            return makeRequest({\n                url,\n                query: rawRequestOptions.query,\n                variables: rawRequestOptions.variables,\n                headers: {\n                    ...resolveHeaders(callOrIdentity(headers)),\n                    ...resolveHeaders(rawRequestOptions.requestHeaders)\n                },\n                operationName,\n                fetch,\n                method,\n                fetchOptions,\n                middleware: requestMiddleware\n            }).then((response)=>{\n                if (responseMiddleware) {\n                    responseMiddleware(response);\n                }\n                return response;\n            }).catch((error)=>{\n                if (responseMiddleware) {\n                    responseMiddleware(error);\n                }\n                throw error;\n            });\n        };\n    }\n    async request(documentOrOptions, ...variablesAndRequestHeaders) {\n        const [variables, requestHeaders] = variablesAndRequestHeaders;\n        const requestOptions = (0, parseArgs_js_1.parseRequestArgs)(documentOrOptions, variables, requestHeaders);\n        const { headers, fetch = cross_fetch_1.default, method = `POST`, requestMiddleware, responseMiddleware, ...fetchOptions } = this.requestConfig;\n        const { url } = this;\n        if (requestOptions.signal !== undefined) {\n            fetchOptions.signal = requestOptions.signal;\n        }\n        const { query, operationName } = (0, resolveRequestDocument_js_1.resolveRequestDocument)(requestOptions.document);\n        return makeRequest({\n            url,\n            query,\n            variables: requestOptions.variables,\n            headers: {\n                ...resolveHeaders(callOrIdentity(headers)),\n                ...resolveHeaders(requestOptions.requestHeaders)\n            },\n            operationName,\n            fetch,\n            method,\n            fetchOptions,\n            middleware: requestMiddleware\n        }).then((response)=>{\n            if (responseMiddleware) {\n                responseMiddleware(response);\n            }\n            return response.data;\n        }).catch((error)=>{\n            if (responseMiddleware) {\n                responseMiddleware(error);\n            }\n            throw error;\n        });\n    }\n    // prettier-ignore\n    batchRequests(documentsOrOptions, requestHeaders) {\n        const batchRequestOptions = (0, parseArgs_js_1.parseBatchRequestArgs)(documentsOrOptions, requestHeaders);\n        const { headers, ...fetchOptions } = this.requestConfig;\n        if (batchRequestOptions.signal !== undefined) {\n            fetchOptions.signal = batchRequestOptions.signal;\n        }\n        const queries = batchRequestOptions.documents.map(({ document })=>(0, resolveRequestDocument_js_1.resolveRequestDocument)(document).query);\n        const variables = batchRequestOptions.documents.map(({ variables })=>variables);\n        return makeRequest({\n            url: this.url,\n            query: queries,\n            // @ts-expect-error TODO reconcile batch variables into system.\n            variables,\n            headers: {\n                ...resolveHeaders(callOrIdentity(headers)),\n                ...resolveHeaders(batchRequestOptions.requestHeaders)\n            },\n            operationName: undefined,\n            fetch: this.requestConfig.fetch ?? cross_fetch_1.default,\n            method: this.requestConfig.method || `POST`,\n            fetchOptions,\n            middleware: this.requestConfig.requestMiddleware\n        }).then((response)=>{\n            if (this.requestConfig.responseMiddleware) {\n                this.requestConfig.responseMiddleware(response);\n            }\n            return response.data;\n        }).catch((error)=>{\n            if (this.requestConfig.responseMiddleware) {\n                this.requestConfig.responseMiddleware(error);\n            }\n            throw error;\n        });\n    }\n    setHeaders(headers) {\n        this.requestConfig.headers = headers;\n        return this;\n    }\n    /**\n     * Attach a header to the client. All subsequent requests will have this header.\n     */ setHeader(key, value) {\n        const { headers } = this.requestConfig;\n        if (headers) {\n            // todo what if headers is in nested array form... ?\n            //@ts-expect-error todo\n            headers[key] = value;\n        } else {\n            this.requestConfig.headers = {\n                [key]: value\n            };\n        }\n        return this;\n    }\n    /**\n     * Change the client endpoint. All subsequent requests will send to this endpoint.\n     */ setEndpoint(value) {\n        this.url = value;\n        return this;\n    }\n}\nexports.GraphQLClient = GraphQLClient;\nconst makeRequest = async (params)=>{\n    const { query, variables, fetchOptions } = params;\n    const fetcher = createHttpMethodFetcher((0, helpers_js_1.uppercase)(params.method ?? `post`));\n    const isBatchingQuery = Array.isArray(params.query);\n    const response = await fetcher(params);\n    const result = await getResult(response, fetchOptions.jsonSerializer ?? defaultJsonSerializer_js_1.defaultJsonSerializer);\n    const successfullyReceivedData = Array.isArray(result) ? !result.some(({ data })=>!data) : Boolean(result.data);\n    const successfullyPassedErrorPolicy = Array.isArray(result) || !result.errors || Array.isArray(result.errors) && !result.errors.length || fetchOptions.errorPolicy === `all` || fetchOptions.errorPolicy === `ignore`;\n    if (response.ok && successfullyPassedErrorPolicy && successfullyReceivedData) {\n        // @ts-expect-error TODO fixme\n        const { errors: _, ...rest } = Array.isArray(result) ? result : result;\n        const data = fetchOptions.errorPolicy === `ignore` ? rest : result;\n        const dataEnvelope = isBatchingQuery ? {\n            data\n        } : data;\n        // @ts-expect-error TODO\n        return {\n            ...dataEnvelope,\n            headers: response.headers,\n            status: response.status\n        };\n    } else {\n        const errorResult = typeof result === `string` ? {\n            error: result\n        } : result;\n        throw new types_js_1.ClientError(// @ts-expect-error TODO\n        {\n            ...errorResult,\n            status: response.status,\n            headers: response.headers\n        }, {\n            query,\n            variables\n        });\n    }\n};\n/**\n * Send a GraphQL Query to the GraphQL server for execution.\n */ const rawRequest = async (...args)=>{\n    const [urlOrOptions, query, ...variablesAndRequestHeaders] = args;\n    const requestOptions = (0, parseArgs_js_1.parseRawRequestExtendedArgs)(urlOrOptions, query, ...variablesAndRequestHeaders);\n    const client = new GraphQLClient(requestOptions.url);\n    return client.rawRequest({\n        ...requestOptions\n    });\n};\nexports.rawRequest = rawRequest;\n// prettier-ignore\n// eslint-disable-next-line\nasync function request(urlOrOptions, document, ...variablesAndRequestHeaders) {\n    const requestOptions = (0, parseArgs_js_1.parseRequestExtendedArgs)(urlOrOptions, document, ...variablesAndRequestHeaders);\n    const client = new GraphQLClient(requestOptions.url);\n    return client.request({\n        ...requestOptions\n    });\n}\nexports.request = request;\n/**\n * Send a batch of GraphQL Document to the GraphQL server for execution.\n *\n * @example\n *\n * ```ts\n * // You can pass a raw string\n *\n * await batchRequests('https://foo.bar/graphql', [\n * {\n *  query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * },\n * {\n *   query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * }])\n *\n * // You can also pass a GraphQL DocumentNode as query. Convenient if you\n * // are using graphql-tag package.\n *\n * import gql from 'graphql-tag'\n *\n * await batchRequests('https://foo.bar/graphql', [{ query: gql`...` }])\n * ```\n */ const batchRequests = async (...args)=>{\n    const params = parseBatchRequestsArgsExtended(args);\n    const client = new GraphQLClient(params.url);\n    return client.batchRequests(params);\n};\nexports.batchRequests = batchRequests;\nconst parseBatchRequestsArgsExtended = (args)=>{\n    if (args.length === 1) {\n        return args[0];\n    } else {\n        return {\n            url: args[0],\n            documents: args[1],\n            requestHeaders: args[2],\n            signal: undefined\n        };\n    }\n};\nconst createRequestBody = (query, variables, operationName, jsonSerializer)=>{\n    const jsonSerializer_ = jsonSerializer ?? defaultJsonSerializer_js_1.defaultJsonSerializer;\n    if (!Array.isArray(query)) {\n        return jsonSerializer_.stringify({\n            query,\n            variables,\n            operationName\n        });\n    }\n    if (typeof variables !== `undefined` && !Array.isArray(variables)) {\n        throw new Error(`Cannot create request body with given variable type, array expected`);\n    }\n    // Batch support\n    const payload = query.reduce((acc, currentQuery, index)=>{\n        acc.push({\n            query: currentQuery,\n            variables: variables ? variables[index] : undefined\n        });\n        return acc;\n    }, []);\n    return jsonSerializer_.stringify(payload);\n};\nconst getResult = async (response, jsonSerializer)=>{\n    let contentType;\n    response.headers.forEach((value, key)=>{\n        if (key.toLowerCase() === `content-type`) {\n            contentType = value;\n        }\n    });\n    if (contentType && (contentType.toLowerCase().startsWith(`application/json`) || contentType.toLowerCase().startsWith(`application/graphql+json`) || contentType.toLowerCase().startsWith(`application/graphql-response+json`))) {\n        return jsonSerializer.parse(await response.text());\n    } else {\n        return response.text();\n    }\n};\nconst callOrIdentity = (value)=>{\n    return typeof value === `function` ? value() : value;\n};\n/**\n * Convenience passthrough template tag to get the benefits of tooling for the gql template tag. This does not actually parse the input into a GraphQL DocumentNode like graphql-tag package does. It just returns the string with any variables given interpolated. Can save you a bit of performance and having to install another package.\n *\n * @example\n * ```\n * import { gql } from 'graphql-request'\n *\n * await request('https://foo.bar/graphql', gql`...`)\n * ```\n *\n * @remarks\n *\n * Several tools in the Node GraphQL ecosystem are hardcoded to specially treat any template tag named \"gql\". For example see this prettier issue: https://github.com/prettier/prettier/issues/4360. Using this template tag has no runtime effect beyond variable interpolation.\n */ const gql = (chunks, ...variables)=>{\n    return chunks.reduce((acc, chunk, index)=>`${acc}${chunk}${index in variables ? String(variables[index]) : ``}`, ``);\n};\nexports.gql = gql;\nvar graphql_ws_js_1 = __webpack_require__(/*! ./graphql-ws.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/graphql-ws.js\");\nObject.defineProperty(exports, \"GraphQLWebSocketClient\", ({\n    enumerable: true,\n    get: function() {\n        return graphql_ws_js_1.GraphQLWebSocketClient;\n    }\n}));\nvar resolveRequestDocument_js_2 = __webpack_require__(/*! ./resolveRequestDocument.js */ \"(ssr)/./node_modules/graphql-request/build/cjs/resolveRequestDocument.js\");\nObject.defineProperty(exports, \"resolveRequestDocument\", ({\n    enumerable: true,\n    get: function() {\n        return resolveRequestDocument_js_2.resolveRequestDocument;\n    }\n}));\nexports[\"default\"] = request; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLGtCQUFrQixDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLGVBQWUsSUFBTUMsQ0FBQUEsT0FBT0MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0IsSUFBSUcsT0FBT1AsT0FBT1Esd0JBQXdCLENBQUNMLEdBQUdDO0lBQzlDLElBQUksQ0FBQ0csUUFBUyxVQUFTQSxPQUFPLENBQUNKLEVBQUVNLFVBQVUsR0FBR0YsS0FBS0csUUFBUSxJQUFJSCxLQUFLSSxZQUFZLEdBQUc7UUFDakZKLE9BQU87WUFBRUssWUFBWTtZQUFNQyxLQUFLO2dCQUFhLE9BQU9WLENBQUMsQ0FBQ0MsRUFBRTtZQUFFO1FBQUU7SUFDOUQ7SUFDQUosT0FBT2MsY0FBYyxDQUFDWixHQUFHRyxJQUFJRTtBQUNqQyxJQUFNLFNBQVNMLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDdEIsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JGLENBQUMsQ0FBQ0csR0FBRyxHQUFHRixDQUFDLENBQUNDLEVBQUU7QUFDaEIsQ0FBQztBQUNELElBQUlXLHFCQUFxQixDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLGtCQUFrQixJQUFNZixDQUFBQSxPQUFPQyxNQUFNLEdBQUksU0FBU0MsQ0FBQyxFQUFFYyxDQUFDO0lBQ3pGaEIsT0FBT2MsY0FBYyxDQUFDWixHQUFHLFdBQVc7UUFBRVUsWUFBWTtRQUFNSyxPQUFPRDtJQUFFO0FBQ3JFLElBQUssU0FBU2QsQ0FBQyxFQUFFYyxDQUFDO0lBQ2RkLENBQUMsQ0FBQyxVQUFVLEdBQUdjO0FBQ25CO0FBQ0EsSUFBSUUsZUFBZSxDQUFDLE1BQUcsS0FBSyxPQUFHLEVB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QUFRLEdBQUcxRjtJQUNwQixPQUFPMEYsT0FBT2xGLE1BQU0sQ0FBQyxDQUFDQyxLQUFLa0YsT0FBT2hGLFFBQVUsQ0FBQyxFQUFFRixJQUFJLEVBQUVrRixNQUFNLEVBQUVoRixTQUFTWCxZQUFZNEYsT0FBTzVGLFNBQVMsQ0FBQ1csTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekg7QUFDQS9DLFdBQVcsR0FBR1E7QUFDZCxJQUFJeUgsa0JBQWtCdkgsbUJBQU9BLENBQUMscUZBQWlCO0FBQy9DbEMsMERBQXlEO0lBQUVZLFlBQVk7SUFBTUMsS0FBSztRQUFjLE9BQU80SSxnQkFBZ0IxSCxzQkFBc0I7SUFBRTtBQUFFLENBQUMsRUFBQztBQUNuSixJQUFJMkgsOEJBQThCeEgsbUJBQU9BLENBQUMsNkdBQTZCO0FBQ3ZFbEMsMERBQXlEO0lBQUVZLFlBQVk7SUFBTUMsS0FBSztRQUFjLE9BQU82SSw0QkFBNEI1SCxzQkFBc0I7SUFBRTtBQUFFLENBQUMsRUFBQztBQUMvSk4sa0JBQWUsR0FBR0MsU0FDbEIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1zZXJ2aWNlLXdlYi1hcHAvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9pbmRleC5qcz80ZDM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlcXVlc3QgPSBleHBvcnRzLnJhd1JlcXVlc3QgPSBleHBvcnRzLkdyYXBoUUxDbGllbnQgPSBleHBvcnRzLkNsaWVudEVycm9yID0gZXhwb3J0cy5iYXRjaFJlcXVlc3RzID0gZXhwb3J0cy5yZXNvbHZlUmVxdWVzdERvY3VtZW50ID0gZXhwb3J0cy5HcmFwaFFMV2ViU29ja2V0Q2xpZW50ID0gZXhwb3J0cy5ncWwgPSB2b2lkIDA7XG5jb25zdCBkZWZhdWx0SnNvblNlcmlhbGl6ZXJfanNfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRKc29uU2VyaWFsaXplci5qc1wiKTtcbmNvbnN0IGhlbHBlcnNfanNfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnMuanNcIik7XG5jb25zdCBwYXJzZUFyZ3NfanNfMSA9IHJlcXVpcmUoXCIuL3BhcnNlQXJncy5qc1wiKTtcbmNvbnN0IHJlc29sdmVSZXF1ZXN0RG9jdW1lbnRfanNfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVSZXF1ZXN0RG9jdW1lbnQuanNcIik7XG5jb25zdCB0eXBlc19qc18xID0gcmVxdWlyZShcIi4vdHlwZXMuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDbGllbnRFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZXNfanNfMS5DbGllbnRFcnJvcjsgfSB9KTtcbmNvbnN0IGNyb3NzX2ZldGNoXzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcImNyb3NzLWZldGNoXCIpKSwgQ3Jvc3NGZXRjaCA9IGNyb3NzX2ZldGNoXzE7XG4vKipcbiAqIENvbnZlcnQgdGhlIGdpdmVuIGhlYWRlcnMgY29uZmlndXJhdGlvbiBpbnRvIGEgcGxhaW4gb2JqZWN0LlxuICovXG5jb25zdCByZXNvbHZlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gICAgbGV0IG9IZWFkZXJzID0ge307XG4gICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKCh0eXBlb2YgSGVhZGVycyAhPT0gYHVuZGVmaW5lZGAgJiYgaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHx8XG4gICAgICAgICAgICAoQ3Jvc3NGZXRjaCAmJiBDcm9zc0ZldGNoLkhlYWRlcnMgJiYgaGVhZGVycyBpbnN0YW5jZW9mIENyb3NzRmV0Y2guSGVhZGVycykpIHtcbiAgICAgICAgICAgIG9IZWFkZXJzID0gKDAsIGhlbHBlcnNfanNfMS5IZWFkZXJzSW5zdGFuY2VUb1BsYWluT2JqZWN0KShoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICAgICAgICBoZWFkZXJzLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9IZWFkZXJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvSGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9IZWFkZXJzO1xufTtcbi8qKlxuICogQ2xlYW4gYSBHcmFwaFFMIGRvY3VtZW50IHRvIHNlbmQgaXQgdmlhIGEgR0VUIHF1ZXJ5XG4gKi9cbmNvbnN0IGNsZWFuUXVlcnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZSgvKFtcXHMsXXwjW15cXG5cXHJdKykrL2csIGAgYCkudHJpbSgpO1xuLyoqXG4gKiBDcmVhdGUgcXVlcnkgc3RyaW5nIGZvciBHcmFwaFFMIHJlcXVlc3RcbiAqL1xuY29uc3QgYnVpbGRSZXF1ZXN0Q29uZmlnID0gKHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMucXVlcnkpKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtc18gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHNlYXJjaCA9IFtgcXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQoY2xlYW5RdWVyeShwYXJhbXNfLnF1ZXJ5KSl9YF07XG4gICAgICAgIGlmIChwYXJhbXMudmFyaWFibGVzKSB7XG4gICAgICAgICAgICBzZWFyY2gucHVzaChgdmFyaWFibGVzPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc18uanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KHBhcmFtc18udmFyaWFibGVzKSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtc18ub3BlcmF0aW9uTmFtZSkge1xuICAgICAgICAgICAgc2VhcmNoLnB1c2goYG9wZXJhdGlvbk5hbWU9JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW1zXy5vcGVyYXRpb25OYW1lKX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VhcmNoLmpvaW4oYCZgKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMudmFyaWFibGVzICE9PSBgdW5kZWZpbmVkYCAmJiAhQXJyYXkuaXNBcnJheShwYXJhbXMudmFyaWFibGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgcXVlcnkgd2l0aCBnaXZlbiB2YXJpYWJsZSB0eXBlLCBhcnJheSBleHBlY3RlZGApO1xuICAgIH1cbiAgICAvLyBCYXRjaCBzdXBwb3J0XG4gICAgY29uc3QgcGFyYW1zXyA9IHBhcmFtcztcbiAgICBjb25zdCBwYXlsb2FkID0gcGFyYW1zLnF1ZXJ5LnJlZHVjZSgoYWNjLCBjdXJyZW50UXVlcnksIGluZGV4KSA9PiB7XG4gICAgICAgIGFjYy5wdXNoKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBjbGVhblF1ZXJ5KGN1cnJlbnRRdWVyeSksXG4gICAgICAgICAgICB2YXJpYWJsZXM6IHBhcmFtc18udmFyaWFibGVzID8gcGFyYW1zXy5qc29uU2VyaWFsaXplci5zdHJpbmdpZnkocGFyYW1zXy52YXJpYWJsZXNbaW5kZXhdKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBgcXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW1zXy5qc29uU2VyaWFsaXplci5zdHJpbmdpZnkocGF5bG9hZCkpfWA7XG59O1xuY29uc3QgY3JlYXRlSHR0cE1ldGhvZEZldGNoZXIgPSAobWV0aG9kKSA9PiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyB1cmwsIHF1ZXJ5LCB2YXJpYWJsZXMsIG9wZXJhdGlvbk5hbWUsIGZldGNoLCBmZXRjaE9wdGlvbnMsIG1pZGRsZXdhcmUgfSA9IHBhcmFtcztcbiAgICBjb25zdCBoZWFkZXJzID0geyAuLi5wYXJhbXMuaGVhZGVycyB9O1xuICAgIGxldCBxdWVyeVBhcmFtcyA9IGBgO1xuICAgIGxldCBib2R5ID0gdW5kZWZpbmVkO1xuICAgIGlmIChtZXRob2QgPT09IGBQT1NUYCkge1xuICAgICAgICBib2R5ID0gY3JlYXRlUmVxdWVzdEJvZHkocXVlcnksIHZhcmlhYmxlcywgb3BlcmF0aW9uTmFtZSwgZmV0Y2hPcHRpb25zLmpzb25TZXJpYWxpemVyKTtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSBgc3RyaW5nYCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0b2RvXG4gICAgICAgICAgICBoZWFkZXJzW2BDb250ZW50LVR5cGVgXSA9IGBhcHBsaWNhdGlvbi9qc29uYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0b2RvIG5lZWRzIEFEVCBmb3IgVFMgdG8gdW5kZXJzdGFuZCB0aGUgZGlmZmVyZW50IHN0YXRlc1xuICAgICAgICBxdWVyeVBhcmFtcyA9IGJ1aWxkUmVxdWVzdENvbmZpZyh7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgICAgIG9wZXJhdGlvbk5hbWUsXG4gICAgICAgICAgICBqc29uU2VyaWFsaXplcjogZmV0Y2hPcHRpb25zLmpzb25TZXJpYWxpemVyID8/IGRlZmF1bHRKc29uU2VyaWFsaXplcl9qc18xLmRlZmF1bHRKc29uU2VyaWFsaXplcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGluaXQgPSB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keSxcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgIH07XG4gICAgbGV0IHVybFJlc29sdmVkID0gdXJsO1xuICAgIGxldCBpbml0UmVzb2x2ZWQgPSBpbml0O1xuICAgIGlmIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShtaWRkbGV3YXJlKHsgLi4uaW5pdCwgdXJsLCBvcGVyYXRpb25OYW1lLCB2YXJpYWJsZXMgfSkpO1xuICAgICAgICBjb25zdCB7IHVybDogdXJsTmV3LCAuLi5pbml0TmV3IH0gPSByZXN1bHQ7XG4gICAgICAgIHVybFJlc29sdmVkID0gdXJsTmV3O1xuICAgICAgICBpbml0UmVzb2x2ZWQgPSBpbml0TmV3O1xuICAgIH1cbiAgICBpZiAocXVlcnlQYXJhbXMpIHtcbiAgICAgICAgdXJsUmVzb2x2ZWQgPSBgJHt1cmxSZXNvbHZlZH0/JHtxdWVyeVBhcmFtc31gO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgZmV0Y2godXJsUmVzb2x2ZWQsIGluaXRSZXNvbHZlZCk7XG59O1xuLyoqXG4gKiBHcmFwaFFMIENsaWVudC5cbiAqL1xuY2xhc3MgR3JhcGhRTENsaWVudCB7XG4gICAgY29uc3RydWN0b3IodXJsLCByZXF1ZXN0Q29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMucmVxdWVzdENvbmZpZyA9IHJlcXVlc3RDb25maWc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZW5kIGEgR3JhcGhRTCBxdWVyeSB0byB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYXdSZXF1ZXN0ID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtxdWVyeU9yT3B0aW9ucywgdmFyaWFibGVzLCByZXF1ZXN0SGVhZGVyc10gPSBhcmdzO1xuICAgICAgICAgICAgY29uc3QgcmF3UmVxdWVzdE9wdGlvbnMgPSAoMCwgcGFyc2VBcmdzX2pzXzEucGFyc2VSYXdSZXF1ZXN0QXJncykocXVlcnlPck9wdGlvbnMsIHZhcmlhYmxlcywgcmVxdWVzdEhlYWRlcnMpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWFkZXJzLCBmZXRjaCA9IGNyb3NzX2ZldGNoXzEuZGVmYXVsdCwgbWV0aG9kID0gYFBPU1RgLCByZXF1ZXN0TWlkZGxld2FyZSwgcmVzcG9uc2VNaWRkbGV3YXJlLCAuLi5mZXRjaE9wdGlvbnMgfSA9IHRoaXMucmVxdWVzdENvbmZpZztcbiAgICAgICAgICAgIGNvbnN0IHsgdXJsIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHJhd1JlcXVlc3RPcHRpb25zLnNpZ25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IHJhd1JlcXVlc3RPcHRpb25zLnNpZ25hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgb3BlcmF0aW9uTmFtZSB9ID0gKDAsIHJlc29sdmVSZXF1ZXN0RG9jdW1lbnRfanNfMS5yZXNvbHZlUmVxdWVzdERvY3VtZW50KShyYXdSZXF1ZXN0T3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICByZXR1cm4gbWFrZVJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICBxdWVyeTogcmF3UmVxdWVzdE9wdGlvbnMucXVlcnksXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiByYXdSZXF1ZXN0T3B0aW9ucy52YXJpYWJsZXMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5yZXNvbHZlSGVhZGVycyhjYWxsT3JJZGVudGl0eShoZWFkZXJzKSksXG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc29sdmVIZWFkZXJzKHJhd1JlcXVlc3RPcHRpb25zLnJlcXVlc3RIZWFkZXJzKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgZmV0Y2gsXG4gICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlOiByZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWlkZGxld2FyZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1pZGRsZXdhcmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNaWRkbGV3YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWlkZGxld2FyZShlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIHJlcXVlc3QoZG9jdW1lbnRPck9wdGlvbnMsIC4uLnZhcmlhYmxlc0FuZFJlcXVlc3RIZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IFt2YXJpYWJsZXMsIHJlcXVlc3RIZWFkZXJzXSA9IHZhcmlhYmxlc0FuZFJlcXVlc3RIZWFkZXJzO1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9ICgwLCBwYXJzZUFyZ3NfanNfMS5wYXJzZVJlcXVlc3RBcmdzKShkb2N1bWVudE9yT3B0aW9ucywgdmFyaWFibGVzLCByZXF1ZXN0SGVhZGVycyk7XG4gICAgICAgIGNvbnN0IHsgaGVhZGVycywgZmV0Y2ggPSBjcm9zc19mZXRjaF8xLmRlZmF1bHQsIG1ldGhvZCA9IGBQT1NUYCwgcmVxdWVzdE1pZGRsZXdhcmUsIHJlc3BvbnNlTWlkZGxld2FyZSwgLi4uZmV0Y2hPcHRpb25zIH0gPSB0aGlzLnJlcXVlc3RDb25maWc7XG4gICAgICAgIGNvbnN0IHsgdXJsIH0gPSB0aGlzO1xuICAgICAgICBpZiAocmVxdWVzdE9wdGlvbnMuc2lnbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucy5zaWduYWwgPSByZXF1ZXN0T3B0aW9ucy5zaWduYWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBxdWVyeSwgb3BlcmF0aW9uTmFtZSB9ID0gKDAsIHJlc29sdmVSZXF1ZXN0RG9jdW1lbnRfanNfMS5yZXNvbHZlUmVxdWVzdERvY3VtZW50KShyZXF1ZXN0T3B0aW9ucy5kb2N1bWVudCk7XG4gICAgICAgIHJldHVybiBtYWtlUmVxdWVzdCh7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHZhcmlhYmxlczogcmVxdWVzdE9wdGlvbnMudmFyaWFibGVzLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIC4uLnJlc29sdmVIZWFkZXJzKGNhbGxPcklkZW50aXR5KGhlYWRlcnMpKSxcbiAgICAgICAgICAgICAgICAuLi5yZXNvbHZlSGVhZGVycyhyZXF1ZXN0T3B0aW9ucy5yZXF1ZXN0SGVhZGVycyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3BlcmF0aW9uTmFtZSxcbiAgICAgICAgICAgIGZldGNoLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLFxuICAgICAgICAgICAgbWlkZGxld2FyZTogcmVxdWVzdE1pZGRsZXdhcmUsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZU1pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZU1pZGRsZXdhcmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VNaWRkbGV3YXJlKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNaWRkbGV3YXJlKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgYmF0Y2hSZXF1ZXN0cyhkb2N1bWVudHNPck9wdGlvbnMsIHJlcXVlc3RIZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoUmVxdWVzdE9wdGlvbnMgPSAoMCwgcGFyc2VBcmdzX2pzXzEucGFyc2VCYXRjaFJlcXVlc3RBcmdzKShkb2N1bWVudHNPck9wdGlvbnMsIHJlcXVlc3RIZWFkZXJzKTtcbiAgICAgICAgY29uc3QgeyBoZWFkZXJzLCAuLi5mZXRjaE9wdGlvbnMgfSA9IHRoaXMucmVxdWVzdENvbmZpZztcbiAgICAgICAgaWYgKGJhdGNoUmVxdWVzdE9wdGlvbnMuc2lnbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucy5zaWduYWwgPSBiYXRjaFJlcXVlc3RPcHRpb25zLnNpZ25hbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVyaWVzID0gYmF0Y2hSZXF1ZXN0T3B0aW9ucy5kb2N1bWVudHMubWFwKCh7IGRvY3VtZW50IH0pID0+ICgwLCByZXNvbHZlUmVxdWVzdERvY3VtZW50X2pzXzEucmVzb2x2ZVJlcXVlc3REb2N1bWVudCkoZG9jdW1lbnQpLnF1ZXJ5KTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gYmF0Y2hSZXF1ZXN0T3B0aW9ucy5kb2N1bWVudHMubWFwKCh7IHZhcmlhYmxlcyB9KSA9PiB2YXJpYWJsZXMpO1xuICAgICAgICByZXR1cm4gbWFrZVJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyaWVzLFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIHJlY29uY2lsZSBiYXRjaCB2YXJpYWJsZXMgaW50byBzeXN0ZW0uXG4gICAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzb2x2ZUhlYWRlcnMoY2FsbE9ySWRlbnRpdHkoaGVhZGVycykpLFxuICAgICAgICAgICAgICAgIC4uLnJlc29sdmVIZWFkZXJzKGJhdGNoUmVxdWVzdE9wdGlvbnMucmVxdWVzdEhlYWRlcnMpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wZXJhdGlvbk5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLnJlcXVlc3RDb25maWcuZmV0Y2ggPz8gY3Jvc3NfZmV0Y2hfMS5kZWZhdWx0LFxuICAgICAgICAgICAgbWV0aG9kOiB0aGlzLnJlcXVlc3RDb25maWcubWV0aG9kIHx8IGBQT1NUYCxcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgICAgIG1pZGRsZXdhcmU6IHRoaXMucmVxdWVzdENvbmZpZy5yZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVxdWVzdENvbmZpZy5yZXNwb25zZU1pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVxdWVzdENvbmZpZy5yZXNwb25zZU1pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0SGVhZGVycyhoZWFkZXJzKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdENvbmZpZy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCBhIGhlYWRlciB0byB0aGUgY2xpZW50LiBBbGwgc3Vic2VxdWVudCByZXF1ZXN0cyB3aWxsIGhhdmUgdGhpcyBoZWFkZXIuXG4gICAgICovXG4gICAgc2V0SGVhZGVyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyBoZWFkZXJzIH0gPSB0aGlzLnJlcXVlc3RDb25maWc7XG4gICAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgICAgICAvLyB0b2RvIHdoYXQgaWYgaGVhZGVycyBpcyBpbiBuZXN0ZWQgYXJyYXkgZm9ybS4uLiA/XG4gICAgICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3IgdG9kb1xuICAgICAgICAgICAgaGVhZGVyc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RDb25maWcuaGVhZGVycyA9IHsgW2tleV06IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgY2xpZW50IGVuZHBvaW50LiBBbGwgc3Vic2VxdWVudCByZXF1ZXN0cyB3aWxsIHNlbmQgdG8gdGhpcyBlbmRwb2ludC5cbiAgICAgKi9cbiAgICBzZXRFbmRwb2ludCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnVybCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnRzLkdyYXBoUUxDbGllbnQgPSBHcmFwaFFMQ2xpZW50O1xuY29uc3QgbWFrZVJlcXVlc3QgPSBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBxdWVyeSwgdmFyaWFibGVzLCBmZXRjaE9wdGlvbnMgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmZXRjaGVyID0gY3JlYXRlSHR0cE1ldGhvZEZldGNoZXIoKDAsIGhlbHBlcnNfanNfMS51cHBlcmNhc2UpKHBhcmFtcy5tZXRob2QgPz8gYHBvc3RgKSk7XG4gICAgY29uc3QgaXNCYXRjaGluZ1F1ZXJ5ID0gQXJyYXkuaXNBcnJheShwYXJhbXMucXVlcnkpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hlcihwYXJhbXMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlc3VsdChyZXNwb25zZSwgZmV0Y2hPcHRpb25zLmpzb25TZXJpYWxpemVyID8/IGRlZmF1bHRKc29uU2VyaWFsaXplcl9qc18xLmRlZmF1bHRKc29uU2VyaWFsaXplcik7XG4gICAgY29uc3Qgc3VjY2Vzc2Z1bGx5UmVjZWl2ZWREYXRhID0gQXJyYXkuaXNBcnJheShyZXN1bHQpXG4gICAgICAgID8gIXJlc3VsdC5zb21lKCh7IGRhdGEgfSkgPT4gIWRhdGEpXG4gICAgICAgIDogQm9vbGVhbihyZXN1bHQuZGF0YSk7XG4gICAgY29uc3Qgc3VjY2Vzc2Z1bGx5UGFzc2VkRXJyb3JQb2xpY3kgPSBBcnJheS5pc0FycmF5KHJlc3VsdCkgfHxcbiAgICAgICAgIXJlc3VsdC5lcnJvcnMgfHxcbiAgICAgICAgKEFycmF5LmlzQXJyYXkocmVzdWx0LmVycm9ycykgJiYgIXJlc3VsdC5lcnJvcnMubGVuZ3RoKSB8fFxuICAgICAgICBmZXRjaE9wdGlvbnMuZXJyb3JQb2xpY3kgPT09IGBhbGxgIHx8XG4gICAgICAgIGZldGNoT3B0aW9ucy5lcnJvclBvbGljeSA9PT0gYGlnbm9yZWA7XG4gICAgaWYgKHJlc3BvbnNlLm9rICYmIHN1Y2Nlc3NmdWxseVBhc3NlZEVycm9yUG9saWN5ICYmIHN1Y2Nlc3NmdWxseVJlY2VpdmVkRGF0YSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gZml4bWVcbiAgICAgICAgY29uc3QgeyBlcnJvcnM6IF8sIC4uLnJlc3QgfSA9IEFycmF5LmlzQXJyYXkocmVzdWx0KSA/IHJlc3VsdCA6IHJlc3VsdDtcbiAgICAgICAgY29uc3QgZGF0YSA9IGZldGNoT3B0aW9ucy5lcnJvclBvbGljeSA9PT0gYGlnbm9yZWAgPyByZXN0IDogcmVzdWx0O1xuICAgICAgICBjb25zdCBkYXRhRW52ZWxvcGUgPSBpc0JhdGNoaW5nUXVlcnkgPyB7IGRhdGEgfSA6IGRhdGE7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ET1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZGF0YUVudmVsb3BlLFxuICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3JSZXN1bHQgPSB0eXBlb2YgcmVzdWx0ID09PSBgc3RyaW5nYFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IHJlc3VsdCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogcmVzdWx0O1xuICAgICAgICB0aHJvdyBuZXcgdHlwZXNfanNfMS5DbGllbnRFcnJvcihcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPXG4gICAgICAgIHsgLi4uZXJyb3JSZXN1bHQsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzIH0sIHsgcXVlcnksIHZhcmlhYmxlcyB9KTtcbiAgICB9XG59O1xuLyoqXG4gKiBTZW5kIGEgR3JhcGhRTCBRdWVyeSB0byB0aGUgR3JhcGhRTCBzZXJ2ZXIgZm9yIGV4ZWN1dGlvbi5cbiAqL1xuY29uc3QgcmF3UmVxdWVzdCA9IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgW3VybE9yT3B0aW9ucywgcXVlcnksIC4uLnZhcmlhYmxlc0FuZFJlcXVlc3RIZWFkZXJzXSA9IGFyZ3M7XG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSAoMCwgcGFyc2VBcmdzX2pzXzEucGFyc2VSYXdSZXF1ZXN0RXh0ZW5kZWRBcmdzKSh1cmxPck9wdGlvbnMsIHF1ZXJ5LCAuLi52YXJpYWJsZXNBbmRSZXF1ZXN0SGVhZGVycyk7XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IEdyYXBoUUxDbGllbnQocmVxdWVzdE9wdGlvbnMudXJsKTtcbiAgICByZXR1cm4gY2xpZW50LnJhd1JlcXVlc3Qoe1xuICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucyxcbiAgICB9KTtcbn07XG5leHBvcnRzLnJhd1JlcXVlc3QgPSByYXdSZXF1ZXN0O1xuLy8gcHJldHRpZXItaWdub3JlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3QodXJsT3JPcHRpb25zLCBkb2N1bWVudCwgLi4udmFyaWFibGVzQW5kUmVxdWVzdEhlYWRlcnMpIHtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9ICgwLCBwYXJzZUFyZ3NfanNfMS5wYXJzZVJlcXVlc3RFeHRlbmRlZEFyZ3MpKHVybE9yT3B0aW9ucywgZG9jdW1lbnQsIC4uLnZhcmlhYmxlc0FuZFJlcXVlc3RIZWFkZXJzKTtcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgR3JhcGhRTENsaWVudChyZXF1ZXN0T3B0aW9ucy51cmwpO1xuICAgIHJldHVybiBjbGllbnQucmVxdWVzdCh7XG4gICAgICAgIC4uLnJlcXVlc3RPcHRpb25zLFxuICAgIH0pO1xufVxuZXhwb3J0cy5yZXF1ZXN0ID0gcmVxdWVzdDtcbi8qKlxuICogU2VuZCBhIGJhdGNoIG9mIEdyYXBoUUwgRG9jdW1lbnQgdG8gdGhlIEdyYXBoUUwgc2VydmVyIGZvciBleGVjdXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogLy8gWW91IGNhbiBwYXNzIGEgcmF3IHN0cmluZ1xuICpcbiAqIGF3YWl0IGJhdGNoUmVxdWVzdHMoJ2h0dHBzOi8vZm9vLmJhci9ncmFwaHFsJywgW1xuICoge1xuICogIHF1ZXJ5OiBgXG4gKiAgIHtcbiAqICAgICBxdWVyeSB7XG4gKiAgICAgICB1c2Vyc1xuICogICAgIH1cbiAqICAgfWBcbiAqIH0sXG4gKiB7XG4gKiAgIHF1ZXJ5OiBgXG4gKiAgIHtcbiAqICAgICBxdWVyeSB7XG4gKiAgICAgICB1c2Vyc1xuICogICAgIH1cbiAqICAgfWBcbiAqIH1dKVxuICpcbiAqIC8vIFlvdSBjYW4gYWxzbyBwYXNzIGEgR3JhcGhRTCBEb2N1bWVudE5vZGUgYXMgcXVlcnkuIENvbnZlbmllbnQgaWYgeW91XG4gKiAvLyBhcmUgdXNpbmcgZ3JhcGhxbC10YWcgcGFja2FnZS5cbiAqXG4gKiBpbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJ1xuICpcbiAqIGF3YWl0IGJhdGNoUmVxdWVzdHMoJ2h0dHBzOi8vZm9vLmJhci9ncmFwaHFsJywgW3sgcXVlcnk6IGdxbGAuLi5gIH1dKVxuICogYGBgXG4gKi9cbmNvbnN0IGJhdGNoUmVxdWVzdHMgPSBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHBhcnNlQmF0Y2hSZXF1ZXN0c0FyZ3NFeHRlbmRlZChhcmdzKTtcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgR3JhcGhRTENsaWVudChwYXJhbXMudXJsKTtcbiAgICByZXR1cm4gY2xpZW50LmJhdGNoUmVxdWVzdHMocGFyYW1zKTtcbn07XG5leHBvcnRzLmJhdGNoUmVxdWVzdHMgPSBiYXRjaFJlcXVlc3RzO1xuY29uc3QgcGFyc2VCYXRjaFJlcXVlc3RzQXJnc0V4dGVuZGVkID0gKGFyZ3MpID0+IHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXJsOiBhcmdzWzBdLFxuICAgICAgICAgICAgZG9jdW1lbnRzOiBhcmdzWzFdLFxuICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IGFyZ3NbMl0sXG4gICAgICAgICAgICBzaWduYWw6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgY3JlYXRlUmVxdWVzdEJvZHkgPSAocXVlcnksIHZhcmlhYmxlcywgb3BlcmF0aW9uTmFtZSwganNvblNlcmlhbGl6ZXIpID0+IHtcbiAgICBjb25zdCBqc29uU2VyaWFsaXplcl8gPSBqc29uU2VyaWFsaXplciA/PyBkZWZhdWx0SnNvblNlcmlhbGl6ZXJfanNfMS5kZWZhdWx0SnNvblNlcmlhbGl6ZXI7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHF1ZXJ5KSkge1xuICAgICAgICByZXR1cm4ganNvblNlcmlhbGl6ZXJfLnN0cmluZ2lmeSh7IHF1ZXJ5LCB2YXJpYWJsZXMsIG9wZXJhdGlvbk5hbWUgfSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFyaWFibGVzICE9PSBgdW5kZWZpbmVkYCAmJiAhQXJyYXkuaXNBcnJheSh2YXJpYWJsZXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSByZXF1ZXN0IGJvZHkgd2l0aCBnaXZlbiB2YXJpYWJsZSB0eXBlLCBhcnJheSBleHBlY3RlZGApO1xuICAgIH1cbiAgICAvLyBCYXRjaCBzdXBwb3J0XG4gICAgY29uc3QgcGF5bG9hZCA9IHF1ZXJ5LnJlZHVjZSgoYWNjLCBjdXJyZW50UXVlcnksIGluZGV4KSA9PiB7XG4gICAgICAgIGFjYy5wdXNoKHsgcXVlcnk6IGN1cnJlbnRRdWVyeSwgdmFyaWFibGVzOiB2YXJpYWJsZXMgPyB2YXJpYWJsZXNbaW5kZXhdIDogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4ganNvblNlcmlhbGl6ZXJfLnN0cmluZ2lmeShwYXlsb2FkKTtcbn07XG5jb25zdCBnZXRSZXN1bHQgPSBhc3luYyAocmVzcG9uc2UsIGpzb25TZXJpYWxpemVyKSA9PiB7XG4gICAgbGV0IGNvbnRlbnRUeXBlO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IGBjb250ZW50LXR5cGVgKSB7XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGNvbnRlbnRUeXBlICYmXG4gICAgICAgIChjb250ZW50VHlwZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoYGFwcGxpY2F0aW9uL2pzb25gKSB8fFxuICAgICAgICAgICAgY29udGVudFR5cGUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGBhcHBsaWNhdGlvbi9ncmFwaHFsK2pzb25gKSB8fFxuICAgICAgICAgICAgY29udGVudFR5cGUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGBhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb25gKSkpIHtcbiAgICAgICAgcmV0dXJuIGpzb25TZXJpYWxpemVyLnBhcnNlKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbn07XG5jb25zdCBjYWxsT3JJZGVudGl0eSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IGBmdW5jdGlvbmAgPyB2YWx1ZSgpIDogdmFsdWU7XG59O1xuLyoqXG4gKiBDb252ZW5pZW5jZSBwYXNzdGhyb3VnaCB0ZW1wbGF0ZSB0YWcgdG8gZ2V0IHRoZSBiZW5lZml0cyBvZiB0b29saW5nIGZvciB0aGUgZ3FsIHRlbXBsYXRlIHRhZy4gVGhpcyBkb2VzIG5vdCBhY3R1YWxseSBwYXJzZSB0aGUgaW5wdXQgaW50byBhIEdyYXBoUUwgRG9jdW1lbnROb2RlIGxpa2UgZ3JhcGhxbC10YWcgcGFja2FnZSBkb2VzLiBJdCBqdXN0IHJldHVybnMgdGhlIHN0cmluZyB3aXRoIGFueSB2YXJpYWJsZXMgZ2l2ZW4gaW50ZXJwb2xhdGVkLiBDYW4gc2F2ZSB5b3UgYSBiaXQgb2YgcGVyZm9ybWFuY2UgYW5kIGhhdmluZyB0byBpbnN0YWxsIGFub3RoZXIgcGFja2FnZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiBpbXBvcnQgeyBncWwgfSBmcm9tICdncmFwaHFsLXJlcXVlc3QnXG4gKlxuICogYXdhaXQgcmVxdWVzdCgnaHR0cHM6Ly9mb28uYmFyL2dyYXBocWwnLCBncWxgLi4uYClcbiAqIGBgYFxuICpcbiAqIEByZW1hcmtzXG4gKlxuICogU2V2ZXJhbCB0b29scyBpbiB0aGUgTm9kZSBHcmFwaFFMIGVjb3N5c3RlbSBhcmUgaGFyZGNvZGVkIHRvIHNwZWNpYWxseSB0cmVhdCBhbnkgdGVtcGxhdGUgdGFnIG5hbWVkIFwiZ3FsXCIuIEZvciBleGFtcGxlIHNlZSB0aGlzIHByZXR0aWVyIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcHJldHRpZXIvcHJldHRpZXIvaXNzdWVzLzQzNjAuIFVzaW5nIHRoaXMgdGVtcGxhdGUgdGFnIGhhcyBubyBydW50aW1lIGVmZmVjdCBiZXlvbmQgdmFyaWFibGUgaW50ZXJwb2xhdGlvbi5cbiAqL1xuY29uc3QgZ3FsID0gKGNodW5rcywgLi4udmFyaWFibGVzKSA9PiB7XG4gICAgcmV0dXJuIGNodW5rcy5yZWR1Y2UoKGFjYywgY2h1bmssIGluZGV4KSA9PiBgJHthY2N9JHtjaHVua30ke2luZGV4IGluIHZhcmlhYmxlcyA/IFN0cmluZyh2YXJpYWJsZXNbaW5kZXhdKSA6IGBgfWAsIGBgKTtcbn07XG5leHBvcnRzLmdxbCA9IGdxbDtcbnZhciBncmFwaHFsX3dzX2pzXzEgPSByZXF1aXJlKFwiLi9ncmFwaHFsLXdzLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR3JhcGhRTFdlYlNvY2tldENsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ3JhcGhxbF93c19qc18xLkdyYXBoUUxXZWJTb2NrZXRDbGllbnQ7IH0gfSk7XG52YXIgcmVzb2x2ZVJlcXVlc3REb2N1bWVudF9qc18yID0gcmVxdWlyZShcIi4vcmVzb2x2ZVJlcXVlc3REb2N1bWVudC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlc29sdmVSZXF1ZXN0RG9jdW1lbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVSZXF1ZXN0RG9jdW1lbnRfanNfMi5yZXNvbHZlUmVxdWVzdERvY3VtZW50OyB9IH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVxdWVzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJfX2NyZWF0ZUJpbmRpbmciLCJPYmplY3QiLCJjcmVhdGUiLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2VzTW9kdWxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZGVmaW5lUHJvcGVydHkiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwidmFsdWUiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJyZXN1bHQiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJleHBvcnRzIiwicmVxdWVzdCIsInJhd1JlcXVlc3QiLCJHcmFwaFFMQ2xpZW50IiwiQ2xpZW50RXJyb3IiLCJiYXRjaFJlcXVlc3RzIiwicmVzb2x2ZVJlcXVlc3REb2N1bWVudCIsIkdyYXBoUUxXZWJTb2NrZXRDbGllbnQiLCJncWwiLCJkZWZhdWx0SnNvblNlcmlhbGl6ZXJfanNfMSIsInJlcXVpcmUiLCJoZWxwZXJzX2pzXzEiLCJwYXJzZUFyZ3NfanNfMSIsInJlc29sdmVSZXF1ZXN0RG9jdW1lbnRfanNfMSIsInR5cGVzX2pzXzEiLCJjcm9zc19mZXRjaF8xIiwiQ3Jvc3NGZXRjaCIsInJlc29sdmVIZWFkZXJzIiwiaGVhZGVycyIsIm9IZWFkZXJzIiwiSGVhZGVycyIsIkhlYWRlcnNJbnN0YW5jZVRvUGxhaW5PYmplY3QiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwibmFtZSIsImNsZWFuUXVlcnkiLCJzdHIiLCJyZXBsYWNlIiwidHJpbSIsImJ1aWxkUmVxdWVzdENvbmZpZyIsInBhcmFtcyIsInF1ZXJ5IiwicGFyYW1zXyIsInNlYXJjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsInZhcmlhYmxlcyIsInB1c2giLCJqc29uU2VyaWFsaXplciIsInN0cmluZ2lmeSIsIm9wZXJhdGlvbk5hbWUiLCJqb2luIiwiRXJyb3IiLCJwYXlsb2FkIiwicmVkdWNlIiwiYWNjIiwiY3VycmVudFF1ZXJ5IiwiaW5kZXgiLCJjcmVhdGVIdHRwTWV0aG9kRmV0Y2hlciIsIm1ldGhvZCIsInVybCIsImZldGNoIiwiZmV0Y2hPcHRpb25zIiwibWlkZGxld2FyZSIsInF1ZXJ5UGFyYW1zIiwiYm9keSIsImNyZWF0ZVJlcXVlc3RCb2R5IiwiZGVmYXVsdEpzb25TZXJpYWxpemVyIiwiaW5pdCIsInVybFJlc29sdmVkIiwiaW5pdFJlc29sdmVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1cmxOZXciLCJpbml0TmV3IiwiY29uc3RydWN0b3IiLCJyZXF1ZXN0Q29uZmlnIiwiYXJncyIsInF1ZXJ5T3JPcHRpb25zIiwicmVxdWVzdEhlYWRlcnMiLCJyYXdSZXF1ZXN0T3B0aW9ucyIsInBhcnNlUmF3UmVxdWVzdEFyZ3MiLCJkZWZhdWx0IiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiLCJzaWduYWwiLCJtYWtlUmVxdWVzdCIsImNhbGxPcklkZW50aXR5IiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsImRvY3VtZW50T3JPcHRpb25zIiwidmFyaWFibGVzQW5kUmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0T3B0aW9ucyIsInBhcnNlUmVxdWVzdEFyZ3MiLCJkb2N1bWVudCIsImRhdGEiLCJkb2N1bWVudHNPck9wdGlvbnMiLCJiYXRjaFJlcXVlc3RPcHRpb25zIiwicGFyc2VCYXRjaFJlcXVlc3RBcmdzIiwicXVlcmllcyIsImRvY3VtZW50cyIsIm1hcCIsInNldEhlYWRlcnMiLCJzZXRIZWFkZXIiLCJrZXkiLCJzZXRFbmRwb2ludCIsImZldGNoZXIiLCJ1cHBlcmNhc2UiLCJpc0JhdGNoaW5nUXVlcnkiLCJnZXRSZXN1bHQiLCJzdWNjZXNzZnVsbHlSZWNlaXZlZERhdGEiLCJzb21lIiwiQm9vbGVhbiIsInN1Y2Nlc3NmdWxseVBhc3NlZEVycm9yUG9saWN5IiwiZXJyb3JzIiwibGVuZ3RoIiwiZXJyb3JQb2xpY3kiLCJvayIsIl8iLCJyZXN0IiwiZGF0YUVudmVsb3BlIiwic3RhdHVzIiwiZXJyb3JSZXN1bHQiLCJ1cmxPck9wdGlvbnMiLCJwYXJzZVJhd1JlcXVlc3RFeHRlbmRlZEFyZ3MiLCJjbGllbnQiLCJwYXJzZVJlcXVlc3RFeHRlbmRlZEFyZ3MiLCJwYXJzZUJhdGNoUmVxdWVzdHNBcmdzRXh0ZW5kZWQiLCJqc29uU2VyaWFsaXplcl8iLCJjb250ZW50VHlwZSIsInRvTG93ZXJDYXNlIiwic3RhcnRzV2l0aCIsInBhcnNlIiwidGV4dCIsImNodW5rcyIsImNodW5rIiwiU3RyaW5nIiwiZ3JhcGhxbF93c19qc18xIiwicmVzb2x2ZVJlcXVlc3REb2N1bWVudF9qc18yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/parseArgs.js":
/*!*************************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/parseArgs.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.parseRawRequestExtendedArgs = exports.parseRequestExtendedArgs = exports.parseBatchRequestArgs = exports.parseRawRequestArgs = exports.parseRequestArgs = void 0;\nconst parseRequestArgs = (documentOrOptions, variables, requestHeaders)=>{\n    return documentOrOptions.document ? documentOrOptions : {\n        document: documentOrOptions,\n        variables: variables,\n        requestHeaders: requestHeaders,\n        signal: undefined\n    };\n};\nexports.parseRequestArgs = parseRequestArgs;\nconst parseRawRequestArgs = (queryOrOptions, variables, requestHeaders)=>{\n    return queryOrOptions.query ? queryOrOptions : {\n        query: queryOrOptions,\n        variables: variables,\n        requestHeaders: requestHeaders,\n        signal: undefined\n    };\n};\nexports.parseRawRequestArgs = parseRawRequestArgs;\nconst parseBatchRequestArgs = (documentsOrOptions, requestHeaders)=>{\n    return documentsOrOptions.documents ? documentsOrOptions : {\n        documents: documentsOrOptions,\n        requestHeaders: requestHeaders,\n        signal: undefined\n    };\n};\nexports.parseBatchRequestArgs = parseBatchRequestArgs;\nconst parseRequestExtendedArgs = (urlOrOptions, document, ...variablesAndRequestHeaders)=>{\n    const [variables, requestHeaders] = variablesAndRequestHeaders;\n    return urlOrOptions.document ? urlOrOptions : {\n        url: urlOrOptions,\n        document: document,\n        variables,\n        requestHeaders,\n        signal: undefined\n    };\n};\nexports.parseRequestExtendedArgs = parseRequestExtendedArgs;\nconst parseRawRequestExtendedArgs = (urlOrOptions, query, ...variablesAndRequestHeaders)=>{\n    const [variables, requestHeaders] = variablesAndRequestHeaders;\n    return urlOrOptions.query ? urlOrOptions : {\n        url: urlOrOptions,\n        query: query,\n        variables,\n        requestHeaders,\n        signal: undefined\n    };\n};\nexports.parseRawRequestExtendedArgs = parseRawRequestExtendedArgs; //# sourceMappingURL=parseArgs.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9wYXJzZUFyZ3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELG1DQUFtQyxHQUFHQSxnQ0FBZ0MsR0FBR0EsNkJBQTZCLEdBQUdBLDJCQUEyQixHQUFHQSx3QkFBd0IsR0FBRyxLQUFLO0FBQ3ZLLE1BQU1NLG1CQUFtQixDQUFDQyxtQkFBbUJDLFdBQVdDO0lBQ3BELE9BQU9GLGtCQUFrQkcsUUFBUSxHQUMzQkgsb0JBQ0E7UUFDRUcsVUFBVUg7UUFDVkMsV0FBV0E7UUFDWEMsZ0JBQWdCQTtRQUNoQkUsUUFBUUM7SUFDWjtBQUNSO0FBQ0FaLHdCQUF3QixHQUFHTTtBQUMzQixNQUFNRCxzQkFBc0IsQ0FBQ1EsZ0JBQWdCTCxXQUFXQztJQUNwRCxPQUFPSSxlQUFlQyxLQUFLLEdBQ3JCRCxpQkFDQTtRQUNFQyxPQUFPRDtRQUNQTCxXQUFXQTtRQUNYQyxnQkFBZ0JBO1FBQ2hCRSxRQUFRQztJQUNaO0FBQ1I7QUFDQVosMkJBQTJCLEdBQUdLO0FBQzlCLE1BQU1ELHdCQUF3QixDQUFDVyxvQkFBb0JOO0lBQy9DLE9BQU9NLG1CQUFtQkMsU0FBUyxHQUM3QkQscUJBQ0E7UUFDRUMsV0FBV0Q7UUFDWE4sZ0JBQWdCQTtRQUNoQkUsUUFBUUM7SUFDWjtBQUNSO0FBQ0FaLDZCQUE2QixHQUFHSTtBQUNoQyxNQUFNRCwyQkFBMkIsQ0FBQ2MsY0FBY1AsVUFBVSxHQUFHUTtJQUN6RCxNQUFNLENBQUNWLFdBQVdDLGVBQWUsR0FBR1M7SUFDcEMsT0FBT0QsYUFBYVAsUUFBUSxHQUN0Qk8sZUFDQTtRQUNFRSxLQUFLRjtRQUNMUCxVQUFVQTtRQUNWRjtRQUNBQztRQUNBRSxRQUFRQztJQUNaO0FBQ1I7QUFDQVosZ0NBQWdDLEdBQUdHO0FBQ25DLE1BQU1ELDhCQUE4QixDQUFDZSxjQUFjSCxPQUFPLEdBQUdJO0lBQ3pELE1BQU0sQ0FBQ1YsV0FBV0MsZUFBZSxHQUFHUztJQUNwQyxPQUFPRCxhQUFhSCxLQUFLLEdBQ25CRyxlQUNBO1FBQ0VFLEtBQUtGO1FBQ0xILE9BQU9BO1FBQ1BOO1FBQ0FDO1FBQ0FFLFFBQVFDO0lBQ1o7QUFDUjtBQUNBWixtQ0FBbUMsR0FBR0UsNkJBQ3RDLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtc2VydmljZS13ZWItYXBwLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwtcmVxdWVzdC9idWlsZC9janMvcGFyc2VBcmdzLmpzPzYzYjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlUmF3UmVxdWVzdEV4dGVuZGVkQXJncyA9IGV4cG9ydHMucGFyc2VSZXF1ZXN0RXh0ZW5kZWRBcmdzID0gZXhwb3J0cy5wYXJzZUJhdGNoUmVxdWVzdEFyZ3MgPSBleHBvcnRzLnBhcnNlUmF3UmVxdWVzdEFyZ3MgPSBleHBvcnRzLnBhcnNlUmVxdWVzdEFyZ3MgPSB2b2lkIDA7XG5jb25zdCBwYXJzZVJlcXVlc3RBcmdzID0gKGRvY3VtZW50T3JPcHRpb25zLCB2YXJpYWJsZXMsIHJlcXVlc3RIZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIGRvY3VtZW50T3JPcHRpb25zLmRvY3VtZW50XG4gICAgICAgID8gZG9jdW1lbnRPck9wdGlvbnNcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBkb2N1bWVudDogZG9jdW1lbnRPck9wdGlvbnMsXG4gICAgICAgICAgICB2YXJpYWJsZXM6IHZhcmlhYmxlcyxcbiAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiByZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xufTtcbmV4cG9ydHMucGFyc2VSZXF1ZXN0QXJncyA9IHBhcnNlUmVxdWVzdEFyZ3M7XG5jb25zdCBwYXJzZVJhd1JlcXVlc3RBcmdzID0gKHF1ZXJ5T3JPcHRpb25zLCB2YXJpYWJsZXMsIHJlcXVlc3RIZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIHF1ZXJ5T3JPcHRpb25zLnF1ZXJ5XG4gICAgICAgID8gcXVlcnlPck9wdGlvbnNcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnlPck9wdGlvbnMsXG4gICAgICAgICAgICB2YXJpYWJsZXM6IHZhcmlhYmxlcyxcbiAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiByZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xufTtcbmV4cG9ydHMucGFyc2VSYXdSZXF1ZXN0QXJncyA9IHBhcnNlUmF3UmVxdWVzdEFyZ3M7XG5jb25zdCBwYXJzZUJhdGNoUmVxdWVzdEFyZ3MgPSAoZG9jdW1lbnRzT3JPcHRpb25zLCByZXF1ZXN0SGVhZGVycykgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudHNPck9wdGlvbnMuZG9jdW1lbnRzXG4gICAgICAgID8gZG9jdW1lbnRzT3JPcHRpb25zXG4gICAgICAgIDoge1xuICAgICAgICAgICAgZG9jdW1lbnRzOiBkb2N1bWVudHNPck9wdGlvbnMsXG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbn07XG5leHBvcnRzLnBhcnNlQmF0Y2hSZXF1ZXN0QXJncyA9IHBhcnNlQmF0Y2hSZXF1ZXN0QXJncztcbmNvbnN0IHBhcnNlUmVxdWVzdEV4dGVuZGVkQXJncyA9ICh1cmxPck9wdGlvbnMsIGRvY3VtZW50LCAuLi52YXJpYWJsZXNBbmRSZXF1ZXN0SGVhZGVycykgPT4ge1xuICAgIGNvbnN0IFt2YXJpYWJsZXMsIHJlcXVlc3RIZWFkZXJzXSA9IHZhcmlhYmxlc0FuZFJlcXVlc3RIZWFkZXJzO1xuICAgIHJldHVybiB1cmxPck9wdGlvbnMuZG9jdW1lbnRcbiAgICAgICAgPyB1cmxPck9wdGlvbnNcbiAgICAgICAgOiB7XG4gICAgICAgICAgICB1cmw6IHVybE9yT3B0aW9ucyxcbiAgICAgICAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG59O1xuZXhwb3J0cy5wYXJzZVJlcXVlc3RFeHRlbmRlZEFyZ3MgPSBwYXJzZVJlcXVlc3RFeHRlbmRlZEFyZ3M7XG5jb25zdCBwYXJzZVJhd1JlcXVlc3RFeHRlbmRlZEFyZ3MgPSAodXJsT3JPcHRpb25zLCBxdWVyeSwgLi4udmFyaWFibGVzQW5kUmVxdWVzdEhlYWRlcnMpID0+IHtcbiAgICBjb25zdCBbdmFyaWFibGVzLCByZXF1ZXN0SGVhZGVyc10gPSB2YXJpYWJsZXNBbmRSZXF1ZXN0SGVhZGVycztcbiAgICByZXR1cm4gdXJsT3JPcHRpb25zLnF1ZXJ5XG4gICAgICAgID8gdXJsT3JPcHRpb25zXG4gICAgICAgIDoge1xuICAgICAgICAgICAgdXJsOiB1cmxPck9wdGlvbnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xufTtcbmV4cG9ydHMucGFyc2VSYXdSZXF1ZXN0RXh0ZW5kZWRBcmdzID0gcGFyc2VSYXdSZXF1ZXN0RXh0ZW5kZWRBcmdzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VBcmdzLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInBhcnNlUmF3UmVxdWVzdEV4dGVuZGVkQXJncyIsInBhcnNlUmVxdWVzdEV4dGVuZGVkQXJncyIsInBhcnNlQmF0Y2hSZXF1ZXN0QXJncyIsInBhcnNlUmF3UmVxdWVzdEFyZ3MiLCJwYXJzZVJlcXVlc3RBcmdzIiwiZG9jdW1lbnRPck9wdGlvbnMiLCJ2YXJpYWJsZXMiLCJyZXF1ZXN0SGVhZGVycyIsImRvY3VtZW50Iiwic2lnbmFsIiwidW5kZWZpbmVkIiwicXVlcnlPck9wdGlvbnMiLCJxdWVyeSIsImRvY3VtZW50c09yT3B0aW9ucyIsImRvY3VtZW50cyIsInVybE9yT3B0aW9ucyIsInZhcmlhYmxlc0FuZFJlcXVlc3RIZWFkZXJzIiwidXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/parseArgs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/resolveRequestDocument.js":
/*!**************************************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/resolveRequestDocument.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.resolveRequestDocument = void 0;\nconst graphql_1 = __webpack_require__(/*! graphql */ \"(ssr)/./node_modules/graphql/index.mjs\");\n/**\n * helpers\n */ const extractOperationName = (document)=>{\n    let operationName = undefined;\n    const operationDefinitions = document.definitions.filter((definition)=>definition.kind === `OperationDefinition`);\n    if (operationDefinitions.length === 1) {\n        operationName = operationDefinitions[0]?.name?.value;\n    }\n    return operationName;\n};\nconst resolveRequestDocument = (document)=>{\n    if (typeof document === `string`) {\n        let operationName = undefined;\n        try {\n            const parsedDocument = (0, graphql_1.parse)(document);\n            operationName = extractOperationName(parsedDocument);\n        } catch (err) {\n        // Failed parsing the document, the operationName will be undefined\n        }\n        return {\n            query: document,\n            operationName\n        };\n    }\n    const operationName = extractOperationName(document);\n    return {\n        query: (0, graphql_1.print)(document),\n        operationName\n    };\n};\nexports.resolveRequestDocument = resolveRequestDocument; //# sourceMappingURL=resolveRequestDocument.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy9yZXNvbHZlUmVxdWVzdERvY3VtZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCw4QkFBOEIsR0FBRyxLQUFLO0FBQ3RDLE1BQU1HLFlBQVlDLG1CQUFPQSxDQUFDLHVEQUFTO0FBQ25DOztDQUVDLEdBQ0QsTUFBTUMsdUJBQXVCLENBQUNDO0lBQzFCLElBQUlDLGdCQUFnQkM7SUFDcEIsTUFBTUMsdUJBQXVCSCxTQUFTSSxXQUFXLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxhQUFlQSxXQUFXQyxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztJQUNsSCxJQUFJSixxQkFBcUJLLE1BQU0sS0FBSyxHQUFHO1FBQ25DUCxnQkFBZ0JFLG9CQUFvQixDQUFDLEVBQUUsRUFBRU0sTUFBTWQ7SUFDbkQ7SUFDQSxPQUFPTTtBQUNYO0FBQ0EsTUFBTUwseUJBQXlCLENBQUNJO0lBQzVCLElBQUksT0FBT0EsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQzlCLElBQUlDLGdCQUFnQkM7UUFDcEIsSUFBSTtZQUNBLE1BQU1RLGlCQUFpQixDQUFDLEdBQUdiLFVBQVVjLEtBQUssRUFBRVg7WUFDNUNDLGdCQUFnQkYscUJBQXFCVztRQUN6QyxFQUNBLE9BQU9FLEtBQUs7UUFDUixtRUFBbUU7UUFDdkU7UUFDQSxPQUFPO1lBQUVDLE9BQU9iO1lBQVVDO1FBQWM7SUFDNUM7SUFDQSxNQUFNQSxnQkFBZ0JGLHFCQUFxQkM7SUFDM0MsT0FBTztRQUFFYSxPQUFPLENBQUMsR0FBR2hCLFVBQVVpQixLQUFLLEVBQUVkO1FBQVdDO0lBQWM7QUFDbEU7QUFDQVAsOEJBQThCLEdBQUdFLHdCQUNqQyxrREFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLXNlcnZpY2Utd2ViLWFwcC8uL25vZGVfbW9kdWxlcy9ncmFwaHFsLXJlcXVlc3QvYnVpbGQvY2pzL3Jlc29sdmVSZXF1ZXN0RG9jdW1lbnQuanM/YjY4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVzb2x2ZVJlcXVlc3REb2N1bWVudCA9IHZvaWQgMDtcbmNvbnN0IGdyYXBocWxfMSA9IHJlcXVpcmUoXCJncmFwaHFsXCIpO1xuLyoqXG4gKiBoZWxwZXJzXG4gKi9cbmNvbnN0IGV4dHJhY3RPcGVyYXRpb25OYW1lID0gKGRvY3VtZW50KSA9PiB7XG4gICAgbGV0IG9wZXJhdGlvbk5hbWUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgb3BlcmF0aW9uRGVmaW5pdGlvbnMgPSBkb2N1bWVudC5kZWZpbml0aW9ucy5maWx0ZXIoKGRlZmluaXRpb24pID0+IGRlZmluaXRpb24ua2luZCA9PT0gYE9wZXJhdGlvbkRlZmluaXRpb25gKTtcbiAgICBpZiAob3BlcmF0aW9uRGVmaW5pdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG9wZXJhdGlvbk5hbWUgPSBvcGVyYXRpb25EZWZpbml0aW9uc1swXT8ubmFtZT8udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBvcGVyYXRpb25OYW1lO1xufTtcbmNvbnN0IHJlc29sdmVSZXF1ZXN0RG9jdW1lbnQgPSAoZG9jdW1lbnQpID0+IHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBgc3RyaW5nYCkge1xuICAgICAgICBsZXQgb3BlcmF0aW9uTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERvY3VtZW50ID0gKDAsIGdyYXBocWxfMS5wYXJzZSkoZG9jdW1lbnQpO1xuICAgICAgICAgICAgb3BlcmF0aW9uTmFtZSA9IGV4dHJhY3RPcGVyYXRpb25OYW1lKHBhcnNlZERvY3VtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBGYWlsZWQgcGFyc2luZyB0aGUgZG9jdW1lbnQsIHRoZSBvcGVyYXRpb25OYW1lIHdpbGwgYmUgdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcXVlcnk6IGRvY3VtZW50LCBvcGVyYXRpb25OYW1lIH07XG4gICAgfVxuICAgIGNvbnN0IG9wZXJhdGlvbk5hbWUgPSBleHRyYWN0T3BlcmF0aW9uTmFtZShkb2N1bWVudCk7XG4gICAgcmV0dXJuIHsgcXVlcnk6ICgwLCBncmFwaHFsXzEucHJpbnQpKGRvY3VtZW50KSwgb3BlcmF0aW9uTmFtZSB9O1xufTtcbmV4cG9ydHMucmVzb2x2ZVJlcXVlc3REb2N1bWVudCA9IHJlc29sdmVSZXF1ZXN0RG9jdW1lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlUmVxdWVzdERvY3VtZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInJlc29sdmVSZXF1ZXN0RG9jdW1lbnQiLCJncmFwaHFsXzEiLCJyZXF1aXJlIiwiZXh0cmFjdE9wZXJhdGlvbk5hbWUiLCJkb2N1bWVudCIsIm9wZXJhdGlvbk5hbWUiLCJ1bmRlZmluZWQiLCJvcGVyYXRpb25EZWZpbml0aW9ucyIsImRlZmluaXRpb25zIiwiZmlsdGVyIiwiZGVmaW5pdGlvbiIsImtpbmQiLCJsZW5ndGgiLCJuYW1lIiwicGFyc2VkRG9jdW1lbnQiLCJwYXJzZSIsImVyciIsInF1ZXJ5IiwicHJpbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/resolveRequestDocument.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/graphql-request/build/cjs/types.js":
/*!*********************************************************!*\
  !*** ./node_modules/graphql-request/build/cjs/types.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ClientError = void 0;\nclass ClientError extends Error {\n    constructor(response, request){\n        const message = `${ClientError.extractMessage(response)}: ${JSON.stringify({\n            response,\n            request\n        })}`;\n        super(message);\n        Object.setPrototypeOf(this, ClientError.prototype);\n        this.response = response;\n        this.request = request;\n        // this is needed as Safari doesn't support .captureStackTrace\n        if (typeof Error.captureStackTrace === `function`) {\n            Error.captureStackTrace(this, ClientError);\n        }\n    }\n    static extractMessage(response) {\n        return response.errors?.[0]?.message ?? `GraphQL Error (Code: ${response.status})`;\n    }\n}\nexports.ClientError = ClientError; //# sourceMappingURL=types.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ3JhcGhxbC1yZXF1ZXN0L2J1aWxkL2Nqcy90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsbUJBQW1CLEdBQUcsS0FBSztBQUMzQixNQUFNRSxvQkFBb0JDO0lBQ3RCQyxZQUFZQyxRQUFRLEVBQUVDLE9BQU8sQ0FBRTtRQUMzQixNQUFNQyxVQUFVLENBQUMsRUFBRUwsWUFBWU0sY0FBYyxDQUFDSCxVQUFVLEVBQUUsRUFBRUksS0FBS0MsU0FBUyxDQUFDO1lBQ3ZFTDtZQUNBQztRQUNKLEdBQUcsQ0FBQztRQUNKLEtBQUssQ0FBQ0M7UUFDTlQsT0FBT2EsY0FBYyxDQUFDLElBQUksRUFBRVQsWUFBWVUsU0FBUztRQUNqRCxJQUFJLENBQUNQLFFBQVEsR0FBR0E7UUFDaEIsSUFBSSxDQUFDQyxPQUFPLEdBQUdBO1FBQ2YsOERBQThEO1FBQzlELElBQUksT0FBT0gsTUFBTVUsaUJBQWlCLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUMvQ1YsTUFBTVUsaUJBQWlCLENBQUMsSUFBSSxFQUFFWDtRQUNsQztJQUNKO0lBQ0EsT0FBT00sZUFBZUgsUUFBUSxFQUFFO1FBQzVCLE9BQU9BLFNBQVNTLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRVAsV0FBVyxDQUFDLHFCQUFxQixFQUFFRixTQUFTVSxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3RGO0FBQ0o7QUFDQWYsbUJBQW1CLEdBQUdFLGFBQ3RCLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtc2VydmljZS13ZWItYXBwLy4vbm9kZV9tb2R1bGVzL2dyYXBocWwtcmVxdWVzdC9idWlsZC9janMvdHlwZXMuanM/MDE3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2xpZW50RXJyb3IgPSB2b2lkIDA7XG5jbGFzcyBDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXNwb25zZSwgcmVxdWVzdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7Q2xpZW50RXJyb3IuZXh0cmFjdE1lc3NhZ2UocmVzcG9uc2UpfTogJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgIH0pfWA7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xpZW50RXJyb3IucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICAvLyB0aGlzIGlzIG5lZWRlZCBhcyBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IC5jYXB0dXJlU3RhY2tUcmFjZVxuICAgICAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSBgZnVuY3Rpb25gKSB7XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDbGllbnRFcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGV4dHJhY3RNZXNzYWdlKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5lcnJvcnM/LlswXT8ubWVzc2FnZSA/PyBgR3JhcGhRTCBFcnJvciAoQ29kZTogJHtyZXNwb25zZS5zdGF0dXN9KWA7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRFcnJvciA9IENsaWVudEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ2xpZW50RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicmVzcG9uc2UiLCJyZXF1ZXN0IiwibWVzc2FnZSIsImV4dHJhY3RNZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJlcnJvcnMiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/graphql-request/build/cjs/types.js\n");

/***/ })

};
;